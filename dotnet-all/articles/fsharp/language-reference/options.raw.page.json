{"content":"<div><div class=\"content\">\n<p>The option type in F# is used when an actual value might not exist for a named value or variable. An option has an underlying type and can hold a value of that type, or it might not have a value.</p>\n<h2 id=\"remarks\">Remarks</h2>\n<p>The following code illustrates the use of the option type.</p>\n<pre><code class=\"lang-fsharp\" name=\"Main\">let keepIfPositive (a : int) = if a &gt; 0 then Some(a) else None\n</code></pre><p>The value <code>None</code> is used when an option does not have an actual value. Otherwise, the expression <code>Some( ... )</code> gives the option a value. The values <code>Some</code> and <code>None</code> are useful in pattern matching, as in the following function <code>exists</code>, which returns <code>true</code> if the option has a value and <code>false</code> if it does not.</p>\n<pre><code class=\"lang-fsharp\" name=\"Main\">let exists (x : int option) =\n    match x with\n    | Some(x) -&gt; true\n    | None -&gt; false\n</code></pre><h2 id=\"using-options\">Using Options</h2>\n<p>Options are commonly used when a search does not return a matching result, as shown in the following code.</p>\n<pre><code class=\"lang-fsharp\" name=\"Main\">let rec tryFindMatch pred list =\n    match list with\n    | head :: tail -&gt; if pred(head)\n                        then Some(head)\n                        else tryFindMatch pred tail\n    | [] -&gt; None\n\n// result1 is Some 100 and its type is int option.\nlet result1 = tryFindMatch (fun elem -&gt; elem = 100) [ 200; 100; 50; 25 ]\n\n// result2 is None and its type is int option.\nlet result2 = tryFindMatch (fun elem -&gt; elem = 26) [ 200; 100; 50; 25 ]\n</code></pre><p>In the previous code, a list is searched recursively. The function <code>tryFindMatch</code> takes a predicate function <code>pred</code> that returns a Boolean value, and a list to search. If an element that satisfies the predicate is found, the recursion ends and the function returns the value as an option in the expression <code>Some(head)</code>. The recursion ends when the empty list is matched. At that point the value <code>head</code> has not been found, and <code>None</code> is returned.</p>\n<p>Many F# library functions that search a collection for a value that may or may not exist return the <code>option</code> type. By convention, these functions begin with the <code>try</code> prefix, for example, <a href=\"https://msdn.microsoft.com/library/c357b221-edf6-4f68-bf40-82a3156d945a\" data-linktype=\"external\"><code>Seq.tryFindIndex</code></a>.</p>\n<p>Options can also be useful when a value might not exist, for example if it is possible that an exception will be thrown when you try to construct a value. The following code example illustrates this.</p>\n<pre><code class=\"lang-fsharp\" name=\"Main\">open System.IO\nlet openFile filename =\n    try\n        let file = File.Open (filename, FileMode.Create)\n        Some(file)\n    with\n        | ex -&gt; eprintf &quot;An exception occurred with message %s&quot; ex.Message\n                None\n</code></pre><p>The <code>openFile</code> function in the previous example has type <code>string -&gt; File option</code> because it returns a <code>File</code> object if the file opens successfully and <code>None</code> if an exception occurs. Depending on the situation, it may not be an appropriate design choice to catch an exception rather than allowing it to propagate.</p>\n<h2 id=\"option-properties-and-methods\">Option Properties and Methods</h2>\n<p>The option type supports the following properties and methods.</p>\n<table>\n<thead>\n<tr>\n<th>Property or method</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://msdn.microsoft.com/library/83ef260a-aa33-4e6f-aee6-b9bf0a461476\" data-linktype=\"external\">None</a></td>\n<td><code>&#39;T option</code></td>\n<td>A static property that enables you to create an option value that has the <code>None</code> value.</td>\n</tr>\n<tr>\n<td><a href=\"https://msdn.microsoft.com/library/f08532ca-1716-4f60-ae59-8ef6256df234\" data-linktype=\"external\">IsNone</a></td>\n<td><code>bool</code></td>\n<td>Returns <code>true</code> if the option has the <code>None</code> value.</td>\n</tr>\n<tr>\n<td><a href=\"https://msdn.microsoft.com/library/c5088d51-c5d7-425f-a77f-12c379bb356f\" data-linktype=\"external\">IsSome</a></td>\n<td><code>bool</code></td>\n<td>Returns <code>true</code> if the option has a value that is not <code>None</code>.</td>\n</tr>\n<tr>\n<td><a href=\"https://msdn.microsoft.com/library/12f048d2-e293-4596-accb-de036ecd63fc\" data-linktype=\"external\">Some</a></td>\n<td><code>&#39;T option</code></td>\n<td>A static member that creates an option that has a value that is not <code>None</code>.</td>\n</tr>\n<tr>\n<td><a href=\"https://msdn.microsoft.com/library/c79f68e8-11fd-45b1-a053-e8fc38b56df7\" data-linktype=\"external\">Value</a></td>\n<td><code>&#39;T</code></td>\n<td>Returns the underlying value, or throws a <code>System.NullReferenceException</code> if the value is <code>None</code>.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"option-module\">Option Module</h2>\n<p>There is a module, <a href=\"https://msdn.microsoft.com/library/e615e4d3-bbbb-49ba-addc-6061ea2e2f4c\" data-linktype=\"external\">Option</a>, that contains useful functions that perform operations on options. Some functions repeat the functionality of the properties but are useful in contexts where a function is needed. <a href=\"https://msdn.microsoft.com/library/41ad0857-5672-4326-84b5-c33dc43dcf79\" data-linktype=\"external\">Option.isSome</a> and <a href=\"https://msdn.microsoft.com/library/73db6a53-15e7-40a6-94f9-a0049e5f4819\" data-linktype=\"external\">Option.isNone</a> are both module functions that test whether an option holds a value. <a href=\"https://msdn.microsoft.com/library/803e9fcb-6edd-4910-808c-25f08cbc55ea\" data-linktype=\"external\">Option.get</a> obtains the value, if there is one. If there is no value, it throws <code>System.ArgumentException</code>.</p>\n<p>The <a href=\"https://msdn.microsoft.com/library/c3406192-24ac-49b5-bc3b-8f805187f1c0\" data-linktype=\"external\">Option.bind</a> function executes a function on the value, if there is a value. The function must take exactly one argument, and its parameter type must be the option type. The return value of the function is another option type.</p>\n<p>The option module also includes functions that correspond to the functions that are available for lists, arrays, sequences, and other collection types. These functions include <a href=\"https://msdn.microsoft.com/library/91a20385-7e73-40c2-9adc-635e86d6a622\" data-linktype=\"external\"><code>Option.map</code></a>, <a href=\"https://msdn.microsoft.com/library/83389eef-3dff-4074-b4cc-f69581c25191\" data-linktype=\"external\"><code>Option.iter</code></a>, <a href=\"https://msdn.microsoft.com/library/ba884586-5eae-49c5-9e36-05481c1c3428\" data-linktype=\"external\"><code>Option.forall</code></a>, <a href=\"https://msdn.microsoft.com/library/a606d2d4-fddc-4eab-ab37-c6138fb7ad99\" data-linktype=\"external\"><code>Option.exists</code></a>, <a href=\"https://msdn.microsoft.com/library/a882fbaf-c019-46f0-b4f5-b8c2b8b90ffb\" data-linktype=\"external\"><code>Option.foldBack</code></a>, <a href=\"https://msdn.microsoft.com/library/af896794-3d53-406c-9411-316cd5c33ad8\" data-linktype=\"external\"><code>Option.fold</code></a>, and <a href=\"https://msdn.microsoft.com/library/2dac83a9-684e-4d0f-b50e-ff722a8bb876\" data-linktype=\"external\"><code>Option.count</code></a>. These functions enable options to be used like a collection of zero or one elements. For more information and examples, see the discussion of collection functions in <a href=\"lists\" data-linktype=\"relative-path\">Lists</a>.</p>\n<h2 id=\"converting-to-other-types\">Converting to Other Types</h2>\n<p>Options can be converted to lists or arrays. When an option is converted into either of these data structures, the resulting data structure has zero or one element. To convert an option to an array, use <a href=\"https://msdn.microsoft.com/library/c8044873-ba17-4b52-8231-eb1a28318c64\" data-linktype=\"external\"><code>Option.toArray</code></a>. To convert an option to a list, use <a href=\"https://msdn.microsoft.com/library/5f1af295-9fa9-40ad-b4a1-3578d94d44e1\" data-linktype=\"external\"><code>Option.toList</code></a>.</p>\n<h2 id=\"see-also\">See Also</h2>\n<p><a href=\"index\" data-linktype=\"relative-path\">F# Language Reference</a></p>\n<p><a href=\"fsharp-types\" data-linktype=\"relative-path\">F# Types</a></p>\n</div></div>","outputRootRelativePath":"../../../","pageMetadata":"<meta name=\"author\" content=\"cartermp\">\r\n<meta name=\"ms.author\" content=\"phcart\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"/dotnet-all/api/toc2.json\">\r\n<meta name=\"ms.devlang\" content=\"fsharp\">\r\n<meta name=\"ms.assetid\" content=\"a15b5cf1-9055-4481-918c-4c8a051b5829\">\r\n<meta name=\"description\" content=\"Options (F#)\">\r\n<meta name=\"keywords\" content=\"visual f#, f#, functional programming\">\r\n<meta name=\"ms.topic\" content=\"language-reference\">\r\n<meta name=\"ms.date\" content=\"05/16/2016\">\r\n<meta name=\"ms.technology\" content=\"devlang-fsharp\">\r\n<meta name=\"ms.prod\" content=\".net\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"updated_at\" content=\"2016-12-15 06:00 PM\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/fsharp/language-reference/options.md\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/master/docs/fsharp/language-reference/options.md\">\r\n<meta name=\"document_id\" content=\"c5653bb8-e150-fe40-94ff-23f068614481\">\r\n<meta name=\"pagetype\" content=\"Conceptual\">\r\n<meta name=\"toc_rel\" content=\"../../toc2.json\">\r\n","rawMetadata":{"author":"cartermp","ms.author":"phcart","manager":"wpickett","breadcrumb_path":"/dotnet-internal/toc.json","title":"Options (F#) | Microsoft Docs","ms.devlang":"fsharp","ms.assetid":"a15b5cf1-9055-4481-918c-4c8a051b5829","description":"Options (F#)","keywords":"visual f#, f#, functional programming","ms.topic":"language-reference","ms.date":"05/16/2016","ms.technology":"devlang-fsharp","ms.prod":".net","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitCommitHistory":[{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"GitHub","comitter_email":"noreply@github.com","message":"Metadata updates (#1313)","commit_sha":"90fe68f7f3c4b46502b5d3770b1a2d57c6af748a","commit_date":"2016-12-09 12:40:41 -0800"},{"author_name":"Phillip Carter","author_email":"phillip.carter@outlook.com","committer_name":"GitHub","comitter_email":"noreply@github.com","message":"Move snippets to snippets folder, now with some F# (#904)","commit_sha":"37fe2b89d590509e8eb14342da988f15862a9e2b","commit_date":"2016-08-13 16:40:56 -0700"},{"author_name":"Phillip Carter","author_email":"phillip.carter@outlook.com","committer_name":"GitHub","comitter_email":"noreply@github.com","message":"Reorganize F# snippets (#903)","commit_sha":"6ea1cf8f3779532a9ed8fbdac32592fbb809443c","commit_date":"2016-08-13 15:14:41 -0700"},{"author_name":"Phillip Carter","author_email":"phillip.carter@outlook.com","committer_name":"GitHub","comitter_email":"noreply@github.com","message":"F# Docs: Update intro, move files, rename language reference for better URLS (#902)","commit_sha":"70a10b9c3e21291c96d927d13f8710d9e0738d4c","commit_date":"2016-08-13 11:22:39 -0700"}],"updated_at":"2016-12-15 06:00 PM","_op_gitContributorInformation":{"author":{"profile_url":"https://github.com/cartermp","display_name":"Phillip Carter","id":"6309070"},"contributors":[{"profile_url":"https://github.com/cartermp","display_name":"Phillip Carter"},{"profile_url":"https://github.com/mairaw","display_name":"Maira Wenzel","id":"12971179"}],"update_at":"12/15/2016"},"gitcommit":"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/fsharp/language-reference/options.md","original_content_git_url":"https://github.com/dotnet/docs-internal/blob/master/docs/fsharp/language-reference/options.md","open_to_public_contributors":false,"content_git_url":"https://github.com/dotnet/docs/blob/master/docs/fsharp/language-reference/options.md","document_id":"c5653bb8-e150-fe40-94ff-23f068614481","layout":"Conceptual","pagetype":"Conceptual","canonical_url":"https://docs.microsoft.com/en-us/dotnet-all/articles/fsharp/language-reference/options","toc_asset_id":"articles/toc.json","toc_rel":"../../toc.json","_op_ogTitle":"Options (F#)","_op_displayDate":"2016-5-16","_op_displayDate_source":"2016-05-16T00:00:00Z","_op_wordCount":771,"_op_rawTitle":"<h1 id=\"options\" sourcefile=\"docs/fsharp/language-reference/options.md\" sourcestartlinenumber=\"15\" sourceendlinenumber=\"15\">Options</h1>","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet-all/articles/fsharp/language-reference/options","fileRelativePath":"articles/fsharp/language-reference/options.html"},"themesRelativePathToOutputRoot":"_themes/"}