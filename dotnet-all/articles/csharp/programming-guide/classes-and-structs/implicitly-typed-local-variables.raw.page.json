{"content":"<div><div class=\"content\">\n<p>Local variables can be given an inferred &quot;type&quot; of <code>var</code> instead of an explicit type. The <code>var</code> keyword instructs the compiler to infer the type of the variable from the expression on the right side of the initialization statement. The inferred type may be a built-in type, an anonymous type, a user-defined type, or a type defined in the .NET Framework class library. For more information about how to initialize arrays with <code>var</code>, see <a href=\"../arrays/implicitly-typed-arrays\" data-linktype=\"relative-path\">Implicitly Typed Arrays</a>.  </p>\n<p> The following examples show various ways in which local variables can be declared with <code>var</code>:  </p>\n<pre><code class=\"lang-cs\" name=\"csProgGuideLINQ#43\">                    // i is compiled as an int\n                    var i = 5;\n\n                    // s is compiled as a string\n                    var s = &quot;Hello&quot;;\n\n                    // a is compiled as int[]\n                    var a = new[] { 0, 1, 2 };\n\n                    // expr is compiled as IEnumerable&lt;Customer&gt;\n                    // or perhaps IQueryable&lt;Customer&gt;\n                    var expr =\n                        from c in customers\n                        where c.City == &quot;London&quot;\n                        select c;\n\n                    // anon is compiled as an anonymous type\n                    var anon = new { Name = &quot;Terry&quot;, Age = 34 };\n\n                    // list is compiled as List&lt;int&gt;                             \n                    var list = new List&lt;int&gt;();\n</code></pre><p> It is important to understand that the <code>var</code> keyword does not mean &quot;variant&quot; and does not indicate that the variable is loosely typed, or late-bound. It just means that the compiler determines and assigns the most appropriate type.  </p>\n<p> The <code>var</code> keyword may be used in the following contexts:  </p>\n<ul>\n<li><p>On local variables (variables declared at method scope) as shown in the previous example.  </p>\n</li>\n<li><p>In a <a href=\"../../language-reference/keywords/for\" data-linktype=\"relative-path\">for</a> initialization statement.  </p>\n<pre class=\"loading\"><code>for(var x = 1; x &lt; 10; x++)  \n</code></pre></li>\n<li><p>In a <a href=\"../../language-reference/keywords/foreach-in\" data-linktype=\"relative-path\">foreach</a> initialization statement.  </p>\n<pre class=\"loading\"><code>foreach(var item in list){...}  \n</code></pre></li>\n<li><p>In a <a href=\"../../language-reference/keywords/using-statement\" data-linktype=\"relative-path\">using</a> statement.  </p>\n<pre class=\"loading\"><code>using (var file = new StreamReader(&quot;C:\\\\myfile.txt&quot;)) {...}  \n</code></pre><p>For more information, see <a href=\"how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression\" data-linktype=\"relative-path\">How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression</a>.  </p>\n</li>\n</ul>\n<h2 id=\"var-and-anonymous-types\">var and Anonymous Types</h2>\n<p> In many cases the use of <code>var</code> is optional and is just a syntactic convenience. However, when a variable is initialized with an anonymous type you must declare the variable as <code>var</code> if you need to access the properties of the object at a later point. This is a common scenario in LINQ query expressions. For more information, see <a href=\"anonymous-types\" data-linktype=\"relative-path\">Anonymous Types</a>.  </p>\n<p> From the perspective of your source code, an anonymous type has no name. Therefore, if a query variable has been initialized with <code>var</code>, then the only way to access the properties in the returned sequence of objects is to use <code>var</code> as the type of the iteration variable in the <code>foreach</code> statement.  </p>\n<pre><code class=\"lang-cs\" name=\"csProgGuideLINQ#44\">            class ImplicitlyTypedLocals2\n            {\n                static void Main()\n                {\n                    string[] words = { &quot;aPPLE&quot;, &quot;BlUeBeRrY&quot;, &quot;cHeRry&quot; };\n\n                    // If a query produces a sequence of anonymous types, \n                    // then use var in the foreach statement to access the properties.\n                    var upperLowerWords =\n                         from w in words\n                         select new { Upper = w.ToUpper(), Lower = w.ToLower() };\n\n                    // Execute the query\n                    foreach (var ul in upperLowerWords)\n                    {\n                        Console.WriteLine(&quot;Uppercase: {0}, Lowercase: {1}&quot;, ul.Upper, ul.Lower);\n                    }\n                }\n            }\n            /* Outputs:\n                Uppercase: APPLE, Lowercase: apple\n                Uppercase: BLUEBERRY, Lowercase: blueberry\n                Uppercase: CHERRY, Lowercase: cherry        \n             */\n</code></pre><h2 id=\"remarks\">Remarks</h2>\n<p> The following restrictions apply to implicitly-typed variable declarations:  </p>\n<ul>\n<li><p><code>var</code> can only be used when a local variable is declared and initialized in the same statement; the variable cannot be initialized to null, or to a method group or an anonymous function.  </p>\n</li>\n<li><p><code>var</code> cannot be used on fields at class scope.  </p>\n</li>\n<li><p>Variables declared by using <code>var</code> cannot be used in the initialization expression. In other words, this expression is legal<code>: int i = (i = 20);</code> but this expression produces a compile-time error: <code>var i = (i = 20);</code>  </p>\n</li>\n<li><p>Multiple implicitly-typed variables cannot be initialized in the same statement.  </p>\n</li>\n<li><p>If a type named <code>var</code> is in scope, then the <code>var</code> keyword will resolve to that type name and will not be treated as part of an implicitly typed local variable declaration.  </p>\n<p>You may find that <code>var</code> can also be useful with query expressions in which the exact constructed type of the query variable is difficult to determine. This can occur with grouping and ordering operations.  </p>\n<p>The <code>var</code> keyword can also be useful when the specific type of the variable is tedious to type on the keyboard, or is obvious, or does not add to the readability of the code. One example where <code>var</code> is helpful in this manner is with nested generic types such as those used with group operations. In the following query, the type of the query variable is <code>IEnumerable&lt;IGrouping&lt;string, Student&gt;&gt;</code>. As long as you and others who must maintain your code understand this, there is no problem with using implicit typing for convenience and brevity.  </p>\n<pre><code class=\"lang-cs\" name=\"cscsrefQueryKeywords#13\">           // Same as previous example except we use the entire last name as a key.\n           // Query variable is an IEnumerable&lt;IGrouping&lt;string, Student&gt;&gt;\n            var studentQuery3 =\n                from student in students\n                group student by student.Last;\n</code></pre><p>However, the use of <code>var</code> does have at least the potential to make your code more difficult to understand for other developers. For that reason, the C# documentation generally uses <code>var</code> only when it is required.  </p>\n</li>\n</ul>\n<h2 id=\"see-also\">See Also</h2>\n<p> <a href=\"../../language-reference/index\" data-linktype=\"relative-path\">C# Reference</a><br> <a href=\"../arrays/implicitly-typed-arrays\" data-linktype=\"relative-path\">Implicitly Typed Arrays</a><br> <a href=\"how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression\" data-linktype=\"relative-path\">How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression</a><br> <a href=\"anonymous-types\" data-linktype=\"relative-path\">Anonymous Types</a><br> <a href=\"object-and-collection-initializers\" data-linktype=\"relative-path\">Object and Collection Initializers</a><br> <a href=\"../../language-reference/keywords/var\" data-linktype=\"relative-path\">var</a><br> <a href=\"../linq-query-expressions/index\" data-linktype=\"relative-path\">LINQ Query Expressions</a><br> <a href=\"http://msdn.microsoft.com/library/a73c4aec-5d15-4e98-b962-1274021ea93d\" data-linktype=\"external\">LINQ (Language-Integrated Query)</a><br> <a href=\"../../language-reference/keywords/for\" data-linktype=\"relative-path\">for</a><br> <a href=\"../../language-reference/keywords/foreach-in\" data-linktype=\"relative-path\">foreach, in</a><br> <a href=\"../../language-reference/keywords/using-statement\" data-linktype=\"relative-path\">using Statement</a></p>\n</div></div>","outputRootRelativePath":"../../../../","pageMetadata":"<meta name=\"author\" content=\"BillWagner\">\r\n<meta name=\"ms.author\" content=\"wiwagn\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"/dotnet/toc2.json\">\r\n<meta name=\"ms.assetid\" content=\"b9218fb2-ef5d-4814-8a8e-2bc29b0bbc9b\">\r\n<meta name=\"translation.priority.ht\" content=\"cs-cz\">\r\n<meta name=\"translation.priority.ht\" content=\"de-de\">\r\n<meta name=\"translation.priority.ht\" content=\"es-es\">\r\n<meta name=\"translation.priority.ht\" content=\"fr-fr\">\r\n<meta name=\"translation.priority.ht\" content=\"it-it\">\r\n<meta name=\"translation.priority.ht\" content=\"ja-jp\">\r\n<meta name=\"translation.priority.ht\" content=\"ko-kr\">\r\n<meta name=\"translation.priority.ht\" content=\"pl-pl\">\r\n<meta name=\"translation.priority.ht\" content=\"pt-br\">\r\n<meta name=\"translation.priority.ht\" content=\"ru-ru\">\r\n<meta name=\"translation.priority.ht\" content=\"tr-tr\">\r\n<meta name=\"translation.priority.ht\" content=\"zh-cn\">\r\n<meta name=\"translation.priority.ht\" content=\"zh-tw\">\r\n<meta name=\"caps.latest.revision\" content=\"23\">\r\n<meta name=\"ms.topic\" content=\"article\">\r\n<meta name=\"ms.date\" content=\"2015-07-20\">\r\n<meta name=\"ms.technology\" content=\"devlang-csharp\">\r\n<meta name=\"ms.prod\" content=\".net\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"updated_at\" content=\"2016-12-15 06:00 PM\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables.md\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/master/docs/csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables.md\">\r\n<meta name=\"document_id\" content=\"71b3d8c1-62f0-fe21-f634-4e9ffde0b668\">\r\n<meta name=\"pagetype\" content=\"Conceptual\">\r\n<meta name=\"toc_rel\" content=\"toc2.json\">\r\n","rawMetadata":{"author":"BillWagner","ms.author":"wiwagn","manager":"wpickett","breadcrumb_path":"/dotnet/toc.json","title":"Implicitly Typed Local Variables (C# Programming Guide) | Microsoft Docs","ms.assetid":"b9218fb2-ef5d-4814-8a8e-2bc29b0bbc9b","translation.priority.ht":["cs-cz","de-de","es-es","fr-fr","it-it","ja-jp","ko-kr","pl-pl","pt-br","ru-ru","tr-tr","zh-cn","zh-tw"],"caps.latest.revision":23,"ms.topic":"article","dev_langs":["csharp"],"helpviewer_keywords":["implicitly-typed local variables [C#]","var [C#]"],"ms.date":"2015-07-20","ms.technology":["devlang-csharp"],"ms.prod":".net","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitCommitHistory":[{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"GitHub","comitter_email":"noreply@github.com","message":"Metadata updates (#1313)","commit_sha":"90fe68f7f3c4b46502b5d3770b1a2d57c6af748a","commit_date":"2016-12-09 12:40:41 -0800"},{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"Bill Wagner","comitter_email":"wiwagn@microsoft.com","message":":books: migration changes (#1235)","commit_sha":"b828bb1d6c8fb750ad9ef34f8a7a1b7d2574f4c6","commit_date":"2016-11-15 15:08:11 -0500"}],"updated_at":"2016-12-15 06:00 PM","_op_gitContributorInformation":{"author":{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner","id":"493969"},"contributors":[{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner"},{"profile_url":"https://github.com/mairaw","display_name":"Maira Wenzel","id":"12971179"}],"update_at":"12/15/2016"},"gitcommit":"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables.md","original_content_git_url":"https://github.com/dotnet/docs-internal/blob/master/docs/csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables.md","open_to_public_contributors":false,"content_git_url":"https://github.com/dotnet/docs/blob/master/docs/csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables.md","document_id":"71b3d8c1-62f0-fe21-f634-4e9ffde0b668","layout":"Conceptual","pagetype":"Conceptual","canonical_url":"https://docs.microsoft.com/en-us/dotnet/articles/csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables","toc_asset_id":"articles/csharp/programming-guide/classes-and-structs/toc.json","toc_rel":"toc.json","_op_ogTitle":"Implicitly Typed Local Variables (C# Programming Guide)","_op_displayDate":null,"_op_displayDate_source":null,"_op_wordCount":865,"_op_rawTitle":"<h1 id=\"implicitly-typed-local-variables-c-programming-guide\" sourcefile=\"docs/csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables.md\" sourcestartlinenumber=\"37\" sourceendlinenumber=\"37\">Implicitly Typed Local Variables (C# Programming Guide)</h1>","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet/articles/csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables","fileRelativePath":"articles/csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables.html"},"themesRelativePathToOutputRoot":"_themes/"}