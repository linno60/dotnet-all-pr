{"content":"<div><div class=\"content\">\n<p>Generics provide the solution to a limitation in earlier versions of the common language runtime and the C# language in which generalization is accomplished by casting types to and from the universal base type <a class=\"xref\" href=\"../../../../api/system.object\" data-linktype=\"relative-path\">Object</a>. By creating a generic class, you can create a collection that is type-safe at compile-time.  </p>\n<p> The limitations of using non-generic collection classes can be demonstrated by writing a short program that uses the <a class=\"xref\" href=\"../../../../api/system.collections.arraylist\" data-linktype=\"relative-path\">ArrayList</a> collection class from the .NET Framework class library. <a class=\"xref\" href=\"../../../../api/system.collections.arraylist\" data-linktype=\"relative-path\">ArrayList</a> is a highly convenient collection class that can be used without modification to store any reference or value type.  </p>\n<pre><code class=\"lang-cs\" name=\"csProgGuideGenerics#4\">            // The .NET Framework 1.1 way to create a list:\n            System.Collections.ArrayList list1 = new System.Collections.ArrayList();\n            list1.Add(3);\n            list1.Add(105);\n\n            System.Collections.ArrayList list2 = new System.Collections.ArrayList();\n            list2.Add(&quot;It is raining in Redmond.&quot;);\n            list2.Add(&quot;It is snowing in the mountains.&quot;);\n</code></pre><p> But this convenience comes at a cost. Any reference or value type that is added to an <a class=\"xref\" href=\"../../../../api/system.collections.arraylist\" data-linktype=\"relative-path\">ArrayList</a> is implicitly upcast to <a class=\"xref\" href=\"../../../../api/system.object\" data-linktype=\"relative-path\">Object</a>. If the items are value types, they must be boxed when they are added to the list, and unboxed when they are retrieved. Both the casting and the boxing and unboxing operations decrease performance; the effect of boxing and unboxing can be very significant in scenarios where you must iterate over large collections.  </p>\n<p> The other limitation is lack of compile-time type checking; because an <a class=\"xref\" href=\"../../../../api/system.collections.arraylist\" data-linktype=\"relative-path\">ArrayList</a> casts everything to <a class=\"xref\" href=\"../../../../api/system.object\" data-linktype=\"relative-path\">Object</a>, there is no way at compile-time to prevent client code from doing something such as this:  </p>\n<pre><code class=\"lang-cs\" name=\"csProgGuideGenerics#5\">            System.Collections.ArrayList list = new System.Collections.ArrayList();\n            // Add an integer to the list.\n            list.Add(3);\n            // Add a string to the list. This will compile, but may cause an error later.\n            list.Add(&quot;It is raining in Redmond.&quot;);\n\n            int t = 0;\n            // This causes an InvalidCastException to be returned.\n            foreach (int x in list)\n            {\n                t += x;\n            }\n</code></pre><p> Although perfectly acceptable and sometimes intentional if you are creating a heterogeneous collection, combining strings and <code>ints</code> in a single <a class=\"xref\" href=\"../../../../api/system.collections.arraylist\" data-linktype=\"relative-path\">ArrayList</a> is more likely to be a programming error, and this error will not be detected until runtime.  </p>\n<p> In versions 1.0 and 1.1 of the C# language, you could avoid the dangers of generalized code in the .NET Framework base class library collection classes only by writing your own type specific collections. Of course, because such a class is not reusable for more than one data type, you lose the benefits of generalization, and you have to rewrite the class for each type that will be stored.  </p>\n<p> What <a class=\"xref\" href=\"../../../../api/system.collections.arraylist\" data-linktype=\"relative-path\">ArrayList</a> and other similar classes really need is a way for client code to specify, on a per-instance basis, the particular data type that they intend to use. That would eliminate the need for the upcast to <code>T:System.Object</code> and would also make it possible for the compiler to do type checking. In other words, <a class=\"xref\" href=\"../../../../api/system.collections.arraylist\" data-linktype=\"relative-path\">ArrayList</a> needs a type parameter. That is exactly what generics provide. In the generic <a class=\"xref\" href=\"../../../../api/system.collections.generic.list-1\" data-linktype=\"relative-path\">List&lt;T&gt;</a> collection, in the <code>N:System.Collections.Generic</code> namespace, the same operation of adding items to the collection resembles this:  </p>\n<pre><code class=\"lang-cs\" name=\"csProgGuideGenerics#6\">            // The .NET Framework 2.0 way to create a list\n            List&lt;int&gt; list1 = new List&lt;int&gt;();\n\n            // No boxing, no casting:\n            list1.Add(3);\n\n            // Compile-time error:\n            // list1.Add(&quot;It is raining in Redmond.&quot;);\n</code></pre><p> For client code, the only added syntax with <a class=\"xref\" href=\"../../../../api/system.collections.generic.list-1\" data-linktype=\"relative-path\">List&lt;T&gt;</a> compared to <a class=\"xref\" href=\"../../../../api/system.collections.arraylist\" data-linktype=\"relative-path\">ArrayList</a> is the type argument in the declaration and instantiation. In return for this slightly more coding complexity, you can create a list that is not only safer than <a class=\"xref\" href=\"../../../../api/system.collections.arraylist\" data-linktype=\"relative-path\">ArrayList</a>, but also significantly faster, especially when the list items are value types.  </p>\n<h2 id=\"see-also\">See Also</h2>\n<p> <a class=\"xref\" href=\"../../../../api/system.collections.generic\" data-linktype=\"relative-path\">System.Collections.Generic</a><br> <a href=\"../index\" data-linktype=\"relative-path\">C# Programming Guide</a><br> <a href=\"introduction-to-generics\" data-linktype=\"relative-path\">Introduction to Generics</a><br> <a href=\"../types/boxing-and-unboxing\" data-linktype=\"relative-path\">Boxing and Unboxing</a><br> <a href=\"http://go.microsoft.com/fwlink/?LinkId=112403\" data-linktype=\"external\">Collections Best Practices</a></p>\n</div></div>","outputRootRelativePath":"../../../../","pageMetadata":"<meta name=\"author\" content=\"BillWagner\">\r\n<meta name=\"ms.author\" content=\"wiwagn\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"/dotnet-internal/toc.json\">\r\n<meta name=\"ms.assetid\" content=\"80f037cd-9ea7-48be-bfc1-219bfb2d4277\">\r\n<meta name=\"translation.priority.ht\" content=\"cs-cz\">\r\n<meta name=\"translation.priority.ht\" content=\"de-de\">\r\n<meta name=\"translation.priority.ht\" content=\"es-es\">\r\n<meta name=\"translation.priority.ht\" content=\"fr-fr\">\r\n<meta name=\"translation.priority.ht\" content=\"it-it\">\r\n<meta name=\"translation.priority.ht\" content=\"ja-jp\">\r\n<meta name=\"translation.priority.ht\" content=\"ko-kr\">\r\n<meta name=\"translation.priority.ht\" content=\"pl-pl\">\r\n<meta name=\"translation.priority.ht\" content=\"pt-br\">\r\n<meta name=\"translation.priority.ht\" content=\"ru-ru\">\r\n<meta name=\"translation.priority.ht\" content=\"tr-tr\">\r\n<meta name=\"translation.priority.ht\" content=\"zh-cn\">\r\n<meta name=\"translation.priority.ht\" content=\"zh-tw\">\r\n<meta name=\"caps.latest.revision\" content=\"23\">\r\n<meta name=\"ms.topic\" content=\"article\">\r\n<meta name=\"ms.date\" content=\"2015-07-20\">\r\n<meta name=\"ms.technology\" content=\"devlang-csharp\">\r\n<meta name=\"ms.prod\" content=\".net\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"updated_at\" content=\"2017-03-21 01:42 AM\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/programming-guide/generics/benefits-of-generics.md\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/tianzhXamarin/docs/csharp/programming-guide/generics/benefits-of-generics.md\">\r\n<meta name=\"document_id\" content=\"85d72cd2-4798-8540-83b7-4dc3ef34557d\">\r\n<meta name=\"pagetype\" content=\"Conceptual\">\r\n<meta name=\"toc_rel\" content=\"toc.json\">\r\n","rawMetadata":{"author":"BillWagner","ms.author":"wiwagn","manager":"wpickett","breadcrumb_path":"/dotnet-internal/toc.json","title":"Benefits of Generics (C# Programming Guide) | Microsoft Docs","ms.assetid":"80f037cd-9ea7-48be-bfc1-219bfb2d4277","translation.priority.ht":["cs-cz","de-de","es-es","fr-fr","it-it","ja-jp","ko-kr","pl-pl","pt-br","ru-ru","tr-tr","zh-cn","zh-tw"],"caps.latest.revision":23,"ms.topic":"article","dev_langs":["csharp"],"helpviewer_keywords":["generics [C#], benefits"],"ms.date":"2015-07-20","ms.technology":["devlang-csharp"],"ms.prod":".net","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitCommitHistory":[{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"GitHub","comitter_email":"noreply@github.com","message":"Metadata updates (#1313)","commit_sha":"90fe68f7f3c4b46502b5d3770b1a2d57c6af748a","commit_date":"2016-12-09 12:40:41 -0800"},{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"Bill Wagner","comitter_email":"wiwagn@microsoft.com","message":":books: migration changes (#1235)","commit_sha":"b828bb1d6c8fb750ad9ef34f8a7a1b7d2574f4c6","commit_date":"2016-11-15 15:08:11 -0500"}],"updated_at":"2017-03-21 01:42 AM","_op_gitContributorInformation":{"author":{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner","id":"493969"},"contributors":[{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner"},{"profile_url":"https://github.com/mairaw","display_name":"Maira Wenzel","id":"12971179"}],"update_at":"3/21/2017"},"gitcommit":"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/programming-guide/generics/benefits-of-generics.md","original_content_git_url":"https://github.com/dotnet/docs-internal/blob/tianzhXamarin/docs/csharp/programming-guide/generics/benefits-of-generics.md","open_to_public_contributors":false,"content_git_url":"https://github.com/dotnet/docs/blob/master/docs/csharp/programming-guide/generics/benefits-of-generics.md","document_id":"85d72cd2-4798-8540-83b7-4dc3ef34557d","layout":"Conceptual","pagetype":"Conceptual","canonical_url":"https://docs.microsoft.com/en-us/dotnet-all/articles/csharp/programming-guide/generics/benefits-of-generics","toc_asset_id":"articles/csharp/programming-guide/generics/toc.json","toc_rel":"toc.json","_op_ogTitle":"Benefits of Generics (C# Programming Guide)","_op_displayDate":null,"_op_displayDate_source":null,"_op_wordCount":570,"_op_rawTitle":"<h1 id=\"benefits-of-generics-c-programming-guide\" sourcefile=\"docs/csharp/programming-guide/generics/benefits-of-generics.md\" sourcestartlinenumber=\"36\" sourceendlinenumber=\"36\">Benefits of Generics (C# Programming Guide)</h1>","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet-all/articles/csharp/programming-guide/generics/benefits-of-generics","fileRelativePath":"articles/csharp/programming-guide/generics/benefits-of-generics.html"},"themesRelativePathToOutputRoot":"_themes/"}