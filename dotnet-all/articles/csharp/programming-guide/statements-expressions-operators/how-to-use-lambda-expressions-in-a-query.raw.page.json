{"content":"<div><div class=\"content\">\n<p>You do not use lambda expressions directly in query syntax, but you do use them in method calls, and query expressions can contain method calls. In fact, some query operations can only be expressed in method syntax. For more information about the difference between query syntax and method syntax, see <a href=\"../concepts/linq/query-syntax-and-method-syntax-in-linq\" data-linktype=\"relative-path\">Query Syntax and Method Syntax in LINQ</a>.  </p>\n<h2 id=\"example\">Example</h2>\n<p> The following example demonstrates how to use a lambda expression in a method-based query by using the <a class=\"xref\" href=\"https://msdn.microsoft.com/en-us/library/bb301979(v=vs.110).aspx\" data-linktype=\"external\">Enumerable.Where</a> standard query operator. Note that the <a class=\"xref\" href=\"https://msdn.microsoft.com/en-us/library/bb301979(v=vs.110).aspx\" data-linktype=\"external\">Where</a> method in this example has an input parameter of the delegate type <a class=\"xref\" href=\"../../../../api/system.func-1\" data-linktype=\"relative-path\">Func&lt;TResult&gt;</a> and that delegate takes an integer as input and returns a Boolean. The lambda expression can be converted to that delegate. If this were a LINQ to SQL query that used the <a class=\"xref\" href=\"https://msdn.microsoft.com/en-us/library/bb344863(v=vs.110).aspx\" data-linktype=\"external\">Queryable.Where</a> method, the parameter type would be an <code>Expression&lt;Func\\&lt;int,bool&gt;&gt;</code> but the lambda expression would look exactly the same. For more information on the Expression type, see <a class=\"xref\" href=\"../../../../api/system.linq.expressions.expression\" data-linktype=\"relative-path\">System.Linq.Expressions.Expression</a>.  </p>\n<pre><code class=\"lang-cs\" name=\"csProgGuideLINQ#1\">class SimpleLambda\n{\n    static void Main()\n    {\n\n        // Data source.\n        int[] scores = { 90, 71, 82, 93, 75, 82 };\n\n        // The call to Count forces iteration of the source\n        int highScoreCount = scores.Where(n =&gt; n &gt; 80).Count();\n\n        Console.WriteLine(&quot;{0} scores are greater than 80&quot;, highScoreCount);\n\n        // Outputs: 4 scores are greater than 80            \n    }\n}\n</code></pre><h2 id=\"example-1\">Example</h2>\n<p> The following example demonstrates how to use a lambda expression in a method call of a query expression. The lambda is necessary because the <a class=\"xref\" href=\"../../../../api/system.linq.enumerable#System_Linq_Enumerable_Sum_\" data-linktype=\"relative-path\">Sum</a> standard query operator cannot be invoked by using query syntax.  </p>\n<p> The query first groups the students according to their grade level, as defined in the <code>GradeLevel</code> enum. Then for each group it adds the total scores for each student. This requires two <code>Sum</code> operations. The inner <code>Sum</code> calculates the total score for each student, and the outer <code>Sum</code> keeps a running, combined total for all students in the group.  </p>\n<pre><code class=\"lang-cs\" name=\"csProgGuideLINQ#2\">private static void TotalsByGradeLevel()\n{\n    // This query retrieves the total scores for First Year students, Second Years, and so on.\n    // The outer Sum method uses a lambda in order to specify which numbers to add together.\n    var categories =\n    from student in students\n    group student by student.Year into studentGroup\n    select new { GradeLevel = studentGroup.Key, TotalScore = studentGroup.Sum(s =&gt; s.ExamScores.Sum()) };\n\n    // Execute the query.   \n    foreach (var cat in categories)\n    {\n        Console.WriteLine(&quot;Key = {0} Sum = {1}&quot;, cat.GradeLevel, cat.TotalScore);\n    }\n}\n/*\n     Outputs: \n     Key = SecondYear Sum = 1014\n     Key = ThirdYear Sum = 964\n     Key = FirstYear Sum = 1058\n     Key = FourthYear Sum = 974\n*/\n</code></pre><h2 id=\"compiling-the-code\">Compiling the Code</h2>\n<p> To run this code, copy and paste the method into the <code>StudentClass</code> that is provided in <a href=\"../linq-query-expressions/how-to-query-a-collection-of-objects\" data-linktype=\"relative-path\">How to: Query a Collection of Objects</a> and call it from the <code>Main</code> method.  </p>\n<h2 id=\"see-also\">See Also</h2>\n<p> <a href=\"lambda-expressions\" data-linktype=\"relative-path\">Lambda Expressions</a><br> <a href=\"http://msdn.microsoft.com/library/fb1d3ed8-d5b0-4211-a71f-dd271529294b\" data-linktype=\"external\">Expression Trees</a></p>\n</div></div>","outputRootRelativePath":"../../../../","pageMetadata":"<meta name=\"author\" content=\"BillWagner\">\r\n<meta name=\"ms.author\" content=\"wiwagn\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"../toc2.json\">\r\n<meta name=\"apiPlatform\" content=\"dotnet\">\r\n<meta name=\"uhfHeaderId\" content=\"MSDocsHeader-DotNet\">\r\n<meta name=\"ms.assetid\" content=\"3cac4d25-d11f-4abd-9e7c-0f02e97ae06d\">\r\n<meta name=\"translation.priority.ht\" content=\"cs-cz\">\r\n<meta name=\"translation.priority.ht\" content=\"de-de\">\r\n<meta name=\"translation.priority.ht\" content=\"es-es\">\r\n<meta name=\"translation.priority.ht\" content=\"fr-fr\">\r\n<meta name=\"translation.priority.ht\" content=\"it-it\">\r\n<meta name=\"translation.priority.ht\" content=\"ja-jp\">\r\n<meta name=\"translation.priority.ht\" content=\"ko-kr\">\r\n<meta name=\"translation.priority.ht\" content=\"pl-pl\">\r\n<meta name=\"translation.priority.ht\" content=\"pt-br\">\r\n<meta name=\"translation.priority.ht\" content=\"ru-ru\">\r\n<meta name=\"translation.priority.ht\" content=\"tr-tr\">\r\n<meta name=\"translation.priority.ht\" content=\"zh-cn\">\r\n<meta name=\"translation.priority.ht\" content=\"zh-tw\">\r\n<meta name=\"caps.latest.revision\" content=\"16\">\r\n<meta name=\"ms.topic\" content=\"article\">\r\n<meta name=\"ms.date\" content=\"2015-07-20\">\r\n<meta name=\"ms.technology\" content=\"devlang-csharp\">\r\n<meta name=\"ms.prod\" content=\".net\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"updated_at\" content=\"2016-12-15 06:00 PM\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/programming-guide/statements-expressions-operators/how-to-use-lambda-expressions-in-a-query.md\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/master/docs/csharp/programming-guide/statements-expressions-operators/how-to-use-lambda-expressions-in-a-query.md\">\r\n<meta name=\"document_id\" content=\"6b231d4a-ef3e-54c0-3439-94159f52838b\">\r\n<meta name=\"pagetype\" content=\"Conceptual\">\r\n<meta name=\"toc_rel\" content=\"toc2.json\">\r\n","rawMetadata":{"author":"BillWagner","ms.author":"wiwagn","manager":"wpickett","breadcrumb_path":"/dotnet/toc.json","apiPlatform":"dotnet","uhfHeaderId":"MSDocsHeader-DotNet","title":"How to: Use Lambda Expressions in a Query (C# Programming Guide) | Microsoft Docs","ms.assetid":"3cac4d25-d11f-4abd-9e7c-0f02e97ae06d","translation.priority.ht":["cs-cz","de-de","es-es","fr-fr","it-it","ja-jp","ko-kr","pl-pl","pt-br","ru-ru","tr-tr","zh-cn","zh-tw"],"caps.latest.revision":16,"ms.topic":"article","dev_langs":["csharp"],"helpviewer_keywords":["lambda expressions [C#], in LINQ"],"ms.date":"2015-07-20","ms.technology":["devlang-csharp"],"ms.prod":".net","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitCommitHistory":[{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"GitHub","comitter_email":"noreply@github.com","message":"Metadata updates (#1313)","commit_sha":"90fe68f7f3c4b46502b5d3770b1a2d57c6af748a","commit_date":"2016-12-09 12:40:41 -0800"},{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"Bill Wagner","comitter_email":"wiwagn@microsoft.com","message":":books: migration changes (#1235)","commit_sha":"b828bb1d6c8fb750ad9ef34f8a7a1b7d2574f4c6","commit_date":"2016-11-15 15:08:11 -0500"}],"updated_at":"2016-12-15 06:00 PM","_op_gitContributorInformation":{"author":{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner","id":"493969"},"contributors":[{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner"},{"profile_url":"https://github.com/mairaw","display_name":"Maira Wenzel","id":"12971179"}],"update_at":"12/15/2016"},"gitcommit":"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/programming-guide/statements-expressions-operators/how-to-use-lambda-expressions-in-a-query.md","original_content_git_url":"https://github.com/dotnet/docs-internal/blob/master/docs/csharp/programming-guide/statements-expressions-operators/how-to-use-lambda-expressions-in-a-query.md","open_to_public_contributors":false,"content_git_url":"https://github.com/dotnet/docs/blob/master/docs/csharp/programming-guide/statements-expressions-operators/how-to-use-lambda-expressions-in-a-query.md","document_id":"6b231d4a-ef3e-54c0-3439-94159f52838b","layout":"Conceptual","pagetype":"Conceptual","canonical_url":"https://docs.microsoft.com/en-us/dotnet/articles/csharp/programming-guide/statements-expressions-operators/how-to-use-lambda-expressions-in-a-query","toc_asset_id":"articles/csharp/programming-guide/statements-expressions-operators/toc.json","toc_rel":"toc.json","_op_ogTitle":"How to: Use Lambda Expressions in a Query (C# Programming Guide)","_op_displayDate":null,"_op_displayDate_source":null,"_op_wordCount":449,"_op_rawTitle":"<h1 id=\"how-to-use-lambda-expressions-in-a-query-c-programming-guide\" sourcefile=\"docs/csharp/programming-guide/statements-expressions-operators/how-to-use-lambda-expressions-in-a-query.md\" sourcestartlinenumber=\"36\" sourceendlinenumber=\"36\">How to: Use Lambda Expressions in a Query (C# Programming Guide)</h1>","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet/articles/csharp/programming-guide/statements-expressions-operators/how-to-use-lambda-expressions-in-a-query","fileRelativePath":"articles/csharp/programming-guide/statements-expressions-operators/how-to-use-lambda-expressions-in-a-query.html"},"themesRelativePathToOutputRoot":"_themes/"}