{"content":"<div><div class=\"content\">\n<p>This topic shows how to get the shallow value of an element. The shallow value is the value of the specific element only, as opposed to the deep value, which includes the values of all descendent elements concatenated into a single string.  </p>\n<p> When you retrieve an element value by using either casting or the <a class=\"xref\" href=\"../../../../../api/system.xml.linq.xelement#System_Xml_Linq_XElement_Value_\" data-linktype=\"relative-path\">Value</a> property, you retrieve the deep value. To retrieve the shallow value, you can use the <code>ShallowValue</code> extension method, as shown in the follwing example. Retrieving the shallow value is useful when you want to select elements based on their content.  </p>\n<p> The following example declares an extension method that retrieves the shallow value of an element. It then uses the extension method in a query to list all elements that contain a calculated value.  </p>\n<h2 id=\"example\">Example</h2>\n<p> The following text file, Report.xml, is the source for this example.  </p>\n<pre class=\"loading\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;  \n&lt;Report&gt;  \n  &lt;Section&gt;  \n    &lt;Heading&gt;  \n      &lt;Column Name=&quot;CustomerId&quot;&gt;=Customer.CustomerId.Heading&lt;/Column&gt;  \n      &lt;Column Name=&quot;Name&quot;&gt;=Customer.Name.Heading&lt;/Column&gt;  \n    &lt;/Heading&gt;  \n    &lt;Detail&gt;  \n      &lt;Column Name=&quot;CustomerId&quot;&gt;=Customer.CustomerId&lt;/Column&gt;  \n      &lt;Column Name=&quot;Name&quot;&gt;=Customer.Name&lt;/Column&gt;  \n    &lt;/Detail&gt;  \n  &lt;/Section&gt;  \n&lt;/Report&gt;  \n</code></pre><pre class=\"loading\"><code class=\"lang-cs\">public static class MyExtensions  \n{  \n    public static string ShallowValue(this XElement xe)  \n    {  \n        return xe  \n               .Nodes()  \n               .OfType&lt;XText&gt;()  \n               .Aggregate(new StringBuilder(),  \n                          (s, c) =&gt; s.Append(c),  \n                          s =&gt; s.ToString());  \n    }  \n}  \n\nclass Program  \n{  \n    static void Main(string[] args)  \n    {  \n        XElement root = XElement.Load(&quot;Report.xml&quot;);  \n\n        IEnumerable&lt;XElement&gt; query = from el in root.Descendants()  \n                                      where el.ShallowValue().StartsWith(&quot;=&quot;)  \n                                      select el;  \n\n        foreach (var q in query)  \n        {  \n            Console.WriteLine(&quot;{0}{1}{2}&quot;,  \n                q.Name.ToString().PadRight(8),  \n                q.Attribute(&quot;Name&quot;).ToString().PadRight(20),  \n                q.ShallowValue());  \n        }  \n    }  \n}  \n</code></pre><p> This example produces the following output:  </p>\n<pre class=\"loading\"><code>Column  Name=&quot;CustomerId&quot;   =Customer.CustomerId.Heading  \nColumn  Name=&quot;Name&quot;         =Customer.Name.Heading  \nColumn  Name=&quot;CustomerId&quot;   =Customer.CustomerId  \nColumn  Name=&quot;Name&quot;         =Customer.Name  \n</code></pre><h2 id=\"see-also\">See Also</h2>\n<p> <a href=\"linq-to-xml-axes\" data-linktype=\"relative-path\">LINQ to XML Axes (C#)</a></p>\n</div></div>","outputRootRelativePath":"../../../../../","pageMetadata":"<meta name=\"author\" content=\"BillWagner\">\r\n<meta name=\"ms.author\" content=\"wiwagn\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"../toc2.json\">\r\n<meta name=\"apiPlatform\" content=\"dotnet\">\r\n<meta name=\"ms.suite\" content=\"\">\r\n<meta name=\"ms.custom\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"924a2699-72f6-4be1-aaa6-de62f8ec73b9\">\r\n<meta name=\"caps.latest.revision\" content=\"3\">\r\n<meta name=\"ms.topic\" content=\"article\">\r\n<meta name=\"ms.date\" content=\"2015-07-20\">\r\n<meta name=\"ms.technology\" content=\"devlang-csharp\">\r\n<meta name=\"ms.prod\" content=\".net\">\r\n<meta name=\"ms.reviewer\" content=\"\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"updated_at\" content=\"2016-12-15 06:00 PM\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/programming-guide/concepts/linq/how-to-retrieve-the-shallow-value-of-an-element.md\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/master/docs/csharp/programming-guide/concepts/linq/how-to-retrieve-the-shallow-value-of-an-element.md\">\r\n<meta name=\"document_id\" content=\"8440a7be-ccd4-820a-a0d5-155f82aa05d4\">\r\n<meta name=\"pagetype\" content=\"Conceptual\">\r\n<meta name=\"toc_rel\" content=\"toc2.json\">\r\n","rawMetadata":{"author":"BillWagner","ms.author":"wiwagn","manager":"wpickett","breadcrumb_path":"/dotnet/toc.json","apiPlatform":"dotnet","title":"How to: Retrieve the Shallow Value of an Element (C#) | Microsoft Docs","ms.suite":"","ms.custom":"","ms.assetid":"924a2699-72f6-4be1-aaa6-de62f8ec73b9","caps.latest.revision":3,"ms.topic":"article","dev_langs":["csharp"],"ms.date":"2015-07-20","ms.technology":["devlang-csharp"],"ms.prod":".net","ms.reviewer":"","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitCommitHistory":[{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"GitHub","comitter_email":"noreply@github.com","message":"Metadata updates (#1313)","commit_sha":"90fe68f7f3c4b46502b5d3770b1a2d57c6af748a","commit_date":"2016-12-09 12:40:41 -0800"},{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"Bill Wagner","comitter_email":"wiwagn@microsoft.com","message":":books: migration changes (#1235)","commit_sha":"b828bb1d6c8fb750ad9ef34f8a7a1b7d2574f4c6","commit_date":"2016-11-15 15:08:11 -0500"}],"updated_at":"2016-12-15 06:00 PM","_op_gitContributorInformation":{"author":{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner","id":"493969"},"contributors":[{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner"},{"profile_url":"https://github.com/mairaw","display_name":"Maira Wenzel","id":"12971179"}],"update_at":"12/15/2016"},"gitcommit":"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/programming-guide/concepts/linq/how-to-retrieve-the-shallow-value-of-an-element.md","original_content_git_url":"https://github.com/dotnet/docs-internal/blob/master/docs/csharp/programming-guide/concepts/linq/how-to-retrieve-the-shallow-value-of-an-element.md","open_to_public_contributors":false,"content_git_url":"https://github.com/dotnet/docs/blob/master/docs/csharp/programming-guide/concepts/linq/how-to-retrieve-the-shallow-value-of-an-element.md","document_id":"8440a7be-ccd4-820a-a0d5-155f82aa05d4","layout":"Conceptual","pagetype":"Conceptual","canonical_url":"https://docs.microsoft.com/en-us/dotnet/articles/csharp/programming-guide/concepts/linq/how-to-retrieve-the-shallow-value-of-an-element","toc_asset_id":"articles/csharp/programming-guide/concepts/linq/toc.json","toc_rel":"toc.json","_op_ogTitle":"How to: Retrieve the Shallow Value of an Element (C#)","_op_displayDate":null,"_op_displayDate_source":null,"_op_wordCount":247,"_op_rawTitle":"<h1 id=\"how-to-retrieve-the-shallow-value-of-an-element-c\" sourcefile=\"docs/csharp/programming-guide/concepts/linq/how-to-retrieve-the-shallow-value-of-an-element.md\" sourcestartlinenumber=\"20\" sourceendlinenumber=\"20\">How to: Retrieve the Shallow Value of an Element (C#)</h1>","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet/articles/csharp/programming-guide/concepts/linq/how-to-retrieve-the-shallow-value-of-an-element","fileRelativePath":"articles/csharp/programming-guide/concepts/linq/how-to-retrieve-the-shallow-value-of-an-element.html"},"themesRelativePathToOutputRoot":"_themes/"}