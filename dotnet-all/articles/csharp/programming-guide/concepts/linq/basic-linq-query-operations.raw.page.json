{"content":"<div><div class=\"content\">\n<p>This topic gives a brief introduction to LINQ query expressions and some of the typical kinds of operations that you perform in a query. More detailed information is in the following topics:  </p>\n<p> <a href=\"../../linq-query-expressions/index\" data-linktype=\"relative-path\">LINQ Query Expressions</a>  </p>\n<p> <a href=\"standard-query-operators-overview\" data-linktype=\"relative-path\">Standard Query Operators Overview (C#)</a>  </p>\n<p> <a href=\"walkthrough-writing-queries-linq\" data-linktype=\"relative-path\">Walkthrough: Writing Queries in C#</a>  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> If you already are familiar with a query language such as SQL or XQuery, you can skip most of this topic. Read about the &quot;<code>from</code> clause&quot; in the next section to learn about the order of clauses in LINQ query expressions.  </p>\n</div>\n<h2 id=\"obtaining-a-data-source\">Obtaining a Data Source</h2>\n<p> In a LINQ query, the first step is to specify the data source. In C# as in most programming languages a variable must be declared before it can be used. In a LINQ query, the <code>from</code> clause comes first in order to introduce the data source (<code>customers</code>) and the <em>range variable</em> (<code>cust</code>).  </p>\n<pre><code class=\"lang-cs\" name=\"csLINQGettingStarted#23\">                //queryAllCustomers is an IEnumerable&lt;Customer&gt;\n                var queryAllCustomers = from cust in customers\n                                        select cust;\n</code></pre><p> The range variable is like the iteration variable in a <code>foreach</code> loop except that no actual iteration occurs in a query expression. When the query is executed, the range variable will serve as a reference to each successive element in <code>customers</code>. Because the compiler can infer the type of <code>cust</code>, you do not have to specify it explicitly. Additional range variables can be introduced by a <code>let</code> clause. For more information, see <a href=\"../../../language-reference/keywords/let-clause\" data-linktype=\"relative-path\">let clause</a>.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> For non-generic data sources such as <a class=\"xref\" href=\"../../../../../api/system.collections.arraylist\" data-linktype=\"relative-path\">ArrayList</a>, the range variable must be explicitly typed. For more information, see <a href=\"how-to-query-an-arraylist-with-linq\" data-linktype=\"relative-path\">How to: Query an ArrayList with LINQ (C#)</a> and <a href=\"../../../language-reference/keywords/from-clause\" data-linktype=\"relative-path\">from clause</a>.  </p>\n</div>\n<h2 id=\"filtering\">Filtering</h2>\n<p> Probably the most common query operation is to apply a filter in the form of a Boolean expression. The filter causes the query to return only those elements for which the expression is true. The result is produced by using the <code>where</code> clause. The filter in effect specifies which elements to exclude from the source sequence. In the following example, only those <code>customers</code> who have an address in London are returned.  </p>\n<pre><code class=\"lang-cs\" name=\"csLINQGettingStarted#24\">              var queryLondonCustomers = from cust in customers\n                                         where cust.City == &quot;London&quot;\n                                         select cust;\n</code></pre><p> You can use the familiar C# logical <code>AND</code> and <code>OR</code> operators to apply as many filter expressions as necessary in the <code>where</code> clause. For example, to return only customers from &quot;London&quot; <code>AND</code> whose name is &quot;Devon&quot; you would write the following code:  </p>\n<pre><code class=\"lang-cs\" name=\"csLINQGettingStarted#25\">                  where cust.City==&quot;London&quot; &amp;&amp; cust.Name == &quot;Devon&quot;\n</code></pre><p> To return customers from London or Paris, you would write the following code:  </p>\n<pre><code class=\"lang-cs\" name=\"csLINQGettingStarted#26\">                  where cust.City == &quot;London&quot; || cust.City == &quot;Paris&quot;\n</code></pre><p> For more information, see <a href=\"../../../language-reference/keywords/where-clause\" data-linktype=\"relative-path\">where clause</a>.  </p>\n<h2 id=\"ordering\">Ordering</h2>\n<p> Often it is convenient to sort the returned data. The <code>orderby</code> clause will cause the elements in the returned sequence to be sorted according to the default comparer for the type being sorted. For example, the following query can be extended to sort the results based on the <code>Name</code> property. Because <code>Name</code> is a string, the default comparer performs an alphabetical sort from A to Z.  </p>\n<pre><code class=\"lang-cs\" name=\"csLINQGettingStarted#27\">              var queryLondonCustomers3 = \n                  from cust in customers\n                  where cust.City == &quot;London&quot;\n                  orderby cust.Name ascending\n                  select cust;\n</code></pre><p> To order the results in reverse order, from Z to A, use the <code>orderbyâ€¦descending</code> clause.  </p>\n<p> For more information, see <a href=\"../../../language-reference/keywords/orderby-clause\" data-linktype=\"relative-path\">orderby clause</a>.  </p>\n<h2 id=\"grouping\">Grouping</h2>\n<p> The <code>group</code> clause enables you to group your results based on a key that you specify. For example you could specify that the results should be grouped by the <code>City</code> so that all customers from London or Paris are in individual groups. In this case, <code>cust.City</code> is the key.  </p>\n<pre><code class=\"lang-cs\" name=\"csLINQGettingStarted#28\">              // queryCustomersByCity is an IEnumerable&lt;IGrouping&lt;string, Customer&gt;&gt;\n                var queryCustomersByCity =\n                    from cust in customers\n                    group cust by cust.City;\n\n                // customerGroup is an IGrouping&lt;string, Customer&gt;\n                foreach (var customerGroup in queryCustomersByCity)\n                {\n                    Console.WriteLine(customerGroup.Key);\n                    foreach (Customer customer in customerGroup)\n                    {\n                        Console.WriteLine(&quot;    {0}&quot;, customer.Name);\n                    }\n                }\n</code></pre><p> When you end a query with a <code>group</code> clause, your results take the form of a list of lists. Each element in the list is an object that has a <code>Key</code> member and a list of elements that are grouped under that key. When you iterate over a query that produces a sequence of groups, you must use a nested <code>foreach</code> loop. The outer loop iterates over each group, and the inner loop iterates over each group&#39;s members.  </p>\n<p> If you must refer to the results of a group operation, you can use the <code>into</code> keyword to create an identifier that can be queried further. The following query returns only those groups that contain more than two customers:  </p>\n<pre><code class=\"lang-cs\" name=\"csLINQGettingStarted#29\">                // custQuery is an IEnumerable&lt;IGrouping&lt;string, Customer&gt;&gt;\n                var custQuery =\n                    from cust in customers\n                    group cust by cust.City into custGroup\n                    where custGroup.Count() &gt; 2\n                    orderby custGroup.Key\n                    select custGroup;\n</code></pre><p> For more information, see <a href=\"../../../language-reference/keywords/group-clause\" data-linktype=\"relative-path\">group clause</a>.  </p>\n<h2 id=\"joining\">Joining</h2>\n<p> Join operations create associations between sequences that are not explicitly modeled in the data sources. For example you can perform a join to find all the customers and distributors who have the same location. In LINQ the <code>join</code> clause always works against object collections instead of database tables directly.  </p>\n<pre><code class=\"lang-cs\" name=\"csLINQGettingStarted#36\">                var innerJoinQuery =\n                    from cust in customers\n                    join dist in distributors on cust.City equals dist.City\n                    select new { CustomerName = cust.Name, DistributorName = dist.Name };\n</code></pre><p> In LINQ you do not have to use <code>join</code> as often as you do in SQL because foreign keys in LINQ are represented in the object model as properties that hold a collection of items. For example, a <code>Customer</code> object contains a collection of <code>Order</code> objects. Rather than performing a join, you access the orders by using dot notation:  </p>\n<pre class=\"loading\"><code>from order in Customer.Orders...  \n</code></pre><p> For more information, see <a href=\"../../../language-reference/keywords/join-clause\" data-linktype=\"relative-path\">join clause</a>.  </p>\n<h2 id=\"selecting-projections\">Selecting (Projections)</h2>\n<p> The <code>select</code> clause produces the results of the query and specifies the &quot;shape&quot; or type of each returned element. For example, you can specify whether your results will consist of complete <code>Customer</code> objects, just one member, a subset of members, or some completely different result type based on a computation or new object creation. When the <code>select</code> clause produces something other than a copy of the source element, the operation is called a <em>projection</em>. The use of projections to transform data is a powerful capability of LINQ query expressions. For more information, see <a href=\"data-transformations-with-linq\" data-linktype=\"relative-path\">Data Transformations with LINQ (C#)</a> and <a href=\"../../../language-reference/keywords/select-clause\" data-linktype=\"relative-path\">select clause</a>.  </p>\n<h2 id=\"see-also\">See Also</h2>\n<p> <a href=\"getting-started-with-linq\" data-linktype=\"relative-path\">Getting Started with LINQ in C#</a><br> <a href=\"../../linq-query-expressions/index\" data-linktype=\"relative-path\">LINQ Query Expressions</a><br> <a href=\"walkthrough-writing-queries-linq\" data-linktype=\"relative-path\">Walkthrough: Writing Queries in C#</a><br> <a href=\"../../../language-reference/keywords/query-keywords\" data-linktype=\"relative-path\">Query Keywords (LINQ)</a><br> <a href=\"../../classes-and-structs/anonymous-types\" data-linktype=\"relative-path\">Anonymous Types</a></p>\n</div></div>","outputRootRelativePath":"../../../../../","pageMetadata":"<meta name=\"author\" content=\"BillWagner\">\r\n<meta name=\"ms.author\" content=\"wiwagn\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"toc2.json\">\r\n<meta name=\"ms.suite\" content=\"\">\r\n<meta name=\"ms.custom\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"a7ea3421-1cf4-4df7-832a-aa22fe6379e9\">\r\n<meta name=\"translation.priority.ht\" content=\"de-de\">\r\n<meta name=\"translation.priority.ht\" content=\"es-es\">\r\n<meta name=\"translation.priority.ht\" content=\"fr-fr\">\r\n<meta name=\"translation.priority.ht\" content=\"it-it\">\r\n<meta name=\"translation.priority.ht\" content=\"ja-jp\">\r\n<meta name=\"translation.priority.ht\" content=\"ko-kr\">\r\n<meta name=\"translation.priority.ht\" content=\"ru-ru\">\r\n<meta name=\"translation.priority.ht\" content=\"zh-cn\">\r\n<meta name=\"translation.priority.ht\" content=\"zh-tw\">\r\n<meta name=\"caps.latest.revision\" content=\"39\">\r\n<meta name=\"ms.topic\" content=\"article\">\r\n<meta name=\"translation.priority.mt\" content=\"cs-cz\">\r\n<meta name=\"translation.priority.mt\" content=\"pl-pl\">\r\n<meta name=\"translation.priority.mt\" content=\"pt-br\">\r\n<meta name=\"translation.priority.mt\" content=\"tr-tr\">\r\n<meta name=\"ms.date\" content=\"2015-07-20\">\r\n<meta name=\"ms.technology\" content=\"devlang-csharp\">\r\n<meta name=\"ms.prod\" content=\".net\">\r\n<meta name=\"ms.reviewer\" content=\"\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"updated_at\" content=\"2016-12-15 06:00 PM\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/programming-guide/concepts/linq/basic-linq-query-operations.md\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/master/docs/csharp/programming-guide/concepts/linq/basic-linq-query-operations.md\">\r\n<meta name=\"document_id\" content=\"b210a6b6-c9b4-e75d-6744-9ad316023210\">\r\n<meta name=\"pagetype\" content=\"Conceptual\">\r\n<meta name=\"toc_rel\" content=\"toc2.json\">\r\n","rawMetadata":{"author":"BillWagner","ms.author":"wiwagn","manager":"wpickett","breadcrumb_path":"/dotnet/toc.json","title":"Basic LINQ Query Operations (C#) | Microsoft Docs","ms.suite":"","ms.custom":"","ms.assetid":"a7ea3421-1cf4-4df7-832a-aa22fe6379e9","translation.priority.ht":["de-de","es-es","fr-fr","it-it","ja-jp","ko-kr","ru-ru","zh-cn","zh-tw"],"caps.latest.revision":39,"ms.topic":"article","dev_langs":["csharp"],"helpviewer_keywords":["orderby clause [LINQ in C#]","ordering data [LINQ in C#]","selecting data [LINQ in C#]","queries [LINQ in C#], basic operations","grouping data [LINQ in C#]","data sources [LINQ in C#]","sorting data [LINQ in C#]","projections [LINQ in C#]","filtering data [LINQ in C#]","joining data [LINQ in C#]","select clause [LINQ in C#]","LINQ [C#], basic query operations","join clause [LINQ in C#]","group clause [LINQ in C#]"],"translation.priority.mt":["cs-cz","pl-pl","pt-br","tr-tr"],"ms.date":"2015-07-20","ms.technology":["devlang-csharp"],"ms.prod":".net","ms.reviewer":"","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitCommitHistory":[{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"GitHub","comitter_email":"noreply@github.com","message":"Metadata updates (#1313)","commit_sha":"90fe68f7f3c4b46502b5d3770b1a2d57c6af748a","commit_date":"2016-12-09 12:40:41 -0800"},{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"Bill Wagner","comitter_email":"wiwagn@microsoft.com","message":":books: migration changes (#1235)","commit_sha":"b828bb1d6c8fb750ad9ef34f8a7a1b7d2574f4c6","commit_date":"2016-11-15 15:08:11 -0500"}],"updated_at":"2016-12-15 06:00 PM","_op_gitContributorInformation":{"author":{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner","id":"493969"},"contributors":[{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner"},{"profile_url":"https://github.com/mairaw","display_name":"Maira Wenzel","id":"12971179"}],"update_at":"12/15/2016"},"gitcommit":"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/programming-guide/concepts/linq/basic-linq-query-operations.md","original_content_git_url":"https://github.com/dotnet/docs-internal/blob/master/docs/csharp/programming-guide/concepts/linq/basic-linq-query-operations.md","open_to_public_contributors":false,"content_git_url":"https://github.com/dotnet/docs/blob/master/docs/csharp/programming-guide/concepts/linq/basic-linq-query-operations.md","document_id":"b210a6b6-c9b4-e75d-6744-9ad316023210","layout":"Conceptual","pagetype":"Conceptual","canonical_url":"https://docs.microsoft.com/en-us/dotnet/articles/csharp/programming-guide/concepts/linq/basic-linq-query-operations","toc_asset_id":"articles/csharp/programming-guide/concepts/linq/toc.json","toc_rel":"toc.json","_op_ogTitle":"Basic LINQ Query Operations (C#)","_op_displayDate":null,"_op_displayDate_source":null,"_op_wordCount":1032,"_op_rawTitle":"<h1 id=\"basic-linq-query-operations-c\" sourcefile=\"docs/csharp/programming-guide/concepts/linq/basic-linq-query-operations.md\" sourcestartlinenumber=\"50\" sourceendlinenumber=\"50\">Basic LINQ Query Operations (C#)</h1>","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet/articles/csharp/programming-guide/concepts/linq/basic-linq-query-operations","fileRelativePath":"articles/csharp/programming-guide/concepts/linq/basic-linq-query-operations.html"},"themesRelativePathToOutputRoot":"_themes/"}