{"content":"<div><div class=\"content\">\n<p>This topic shows how deferred execution and lazy evaluation affect the execution of your LINQ to XML queries.  </p>\n<h2 id=\"example\">Example</h2>\n<p> The following example shows the order of execution when using an extension method that uses deferred execution. The example declares an array of three strings. It then iterates through the collection returned by <code>ConvertCollectionToUpperCase</code>.  </p>\n<pre class=\"loading\"><code class=\"lang-cs\">public static class LocalExtensions  \n{  \n    public static IEnumerable&lt;string&gt;  \n      ConvertCollectionToUpperCase(this IEnumerable&lt;string&gt; source)  \n    {  \n        foreach (string str in source)  \n        {  \n            Console.WriteLine(&quot;ToUpper: source {0}&quot;, str);  \n            yield return str.ToUpper();  \n        }  \n    }  \n}  \n\nclass Program  \n{  \n    static void Main(string[] args)  \n    {  \n        string[] stringArray = { &quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot; };  \n\n        var q = from str in stringArray.ConvertCollectionToUpperCase()  \n                select str;  \n\n        foreach (string str in q)  \n            Console.WriteLine(&quot;Main: str {0}&quot;, str);  \n    }  \n}  \n</code></pre><p> This example produces the following output:  </p>\n<pre class=\"loading\"><code>ToUpper: source abc  \nMain: str ABC  \nToUpper: source def  \nMain: str DEF  \nToUpper: source ghi  \nMain: str GHI  \n</code></pre><p> Notice that when iterating through the collection returned by <code>ConvertCollectionToUpperCase</code>, each item is retrieved from the source string array and converted to uppercase before the next item is retrieved from the source string array.  </p>\n<p> You can see that the entire array of strings is not converted to uppercase before each item in the returned collection is processed in the <code>foreach</code> loop in <code>Main</code>.  </p>\n<p> The next topic in this tutorial illustrates chaining queries together:  </p>\n<ul>\n<li><a href=\"chaining-queries-example\" data-linktype=\"relative-path\">Chaining Queries Example (C#)</a>  </li>\n</ul>\n<h2 id=\"see-also\">See Also</h2>\n<p> <a href=\"tutorial-chaining-queries-together\" data-linktype=\"relative-path\">Tutorial: Chaining Queries Together (C#)</a></p>\n</div></div>","outputRootRelativePath":"../../../../../","pageMetadata":"<meta name=\"author\" content=\"BillWagner\">\r\n<meta name=\"ms.author\" content=\"wiwagn\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"../toc2.json\">\r\n<meta name=\"apiPlatform\" content=\"dotnet\">\r\n<meta name=\"ms.suite\" content=\"\">\r\n<meta name=\"ms.custom\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"50f4fbac-81fe-4f26-aedf-506e21419b19\">\r\n<meta name=\"caps.latest.revision\" content=\"3\">\r\n<meta name=\"ms.topic\" content=\"article\">\r\n<meta name=\"ms.date\" content=\"2015-07-20\">\r\n<meta name=\"ms.technology\" content=\"devlang-csharp\">\r\n<meta name=\"ms.prod\" content=\".net\">\r\n<meta name=\"ms.reviewer\" content=\"\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"updated_at\" content=\"2016-12-15 06:00 PM\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/programming-guide/concepts/linq/deferred-execution-example.md\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/master/docs/csharp/programming-guide/concepts/linq/deferred-execution-example.md\">\r\n<meta name=\"document_id\" content=\"f2f54474-1025-b82d-df0b-88751f760969\">\r\n<meta name=\"pagetype\" content=\"Conceptual\">\r\n<meta name=\"toc_rel\" content=\"toc2.json\">\r\n","rawMetadata":{"author":"BillWagner","ms.author":"wiwagn","manager":"wpickett","breadcrumb_path":"/dotnet/toc.json","apiPlatform":"dotnet","title":"Deferred Execution Example (C#) | Microsoft Docs","ms.suite":"","ms.custom":"","ms.assetid":"50f4fbac-81fe-4f26-aedf-506e21419b19","caps.latest.revision":3,"ms.topic":"article","dev_langs":["csharp"],"ms.date":"2015-07-20","ms.technology":["devlang-csharp"],"ms.prod":".net","ms.reviewer":"","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitCommitHistory":[{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"GitHub","comitter_email":"noreply@github.com","message":"Metadata updates (#1313)","commit_sha":"90fe68f7f3c4b46502b5d3770b1a2d57c6af748a","commit_date":"2016-12-09 12:40:41 -0800"},{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"Bill Wagner","comitter_email":"wiwagn@microsoft.com","message":":books: migration changes (#1235)","commit_sha":"b828bb1d6c8fb750ad9ef34f8a7a1b7d2574f4c6","commit_date":"2016-11-15 15:08:11 -0500"}],"updated_at":"2016-12-15 06:00 PM","_op_gitContributorInformation":{"author":{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner","id":"493969"},"contributors":[{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner"},{"profile_url":"https://github.com/mairaw","display_name":"Maira Wenzel","id":"12971179"}],"update_at":"12/15/2016"},"gitcommit":"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/programming-guide/concepts/linq/deferred-execution-example.md","original_content_git_url":"https://github.com/dotnet/docs-internal/blob/master/docs/csharp/programming-guide/concepts/linq/deferred-execution-example.md","open_to_public_contributors":false,"content_git_url":"https://github.com/dotnet/docs/blob/master/docs/csharp/programming-guide/concepts/linq/deferred-execution-example.md","document_id":"f2f54474-1025-b82d-df0b-88751f760969","layout":"Conceptual","pagetype":"Conceptual","canonical_url":"https://docs.microsoft.com/en-us/dotnet/articles/csharp/programming-guide/concepts/linq/deferred-execution-example","toc_asset_id":"articles/csharp/programming-guide/concepts/linq/toc.json","toc_rel":"toc.json","_op_ogTitle":"Deferred Execution Example (C#)","_op_displayDate":null,"_op_displayDate_source":null,"_op_wordCount":225,"_op_rawTitle":"<h1 id=\"deferred-execution-example-c\" sourcefile=\"docs/csharp/programming-guide/concepts/linq/deferred-execution-example.md\" sourcestartlinenumber=\"20\" sourceendlinenumber=\"20\">Deferred Execution Example (C#)</h1>","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet/articles/csharp/programming-guide/concepts/linq/deferred-execution-example","fileRelativePath":"articles/csharp/programming-guide/concepts/linq/deferred-execution-example.html"},"themesRelativePathToOutputRoot":"_themes/"}