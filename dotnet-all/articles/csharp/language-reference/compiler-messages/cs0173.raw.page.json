{"content":"<div><div class=\"content\">\n<p>Type of conditional expression cannot be determined because there is no implicit conversion between &#39;class1&#39; and &#39;class2&#39;  </p>\n<p> Conversions between classes are useful when you want objects of different classes to work with the same code. However, two classes that work together cannot have mutual and redundant conversions, or no implicit conversions. The types of <code>class1</code> and <code>class2</code> are determined independently, and the more general type is selected as the type of the conditional expression. For more information about how types are determined, see <a href=\"http://go.microsoft.com/fwlink/?LinkId=213999\" data-linktype=\"external\">Conditional operator cannot cast implicitly</a>.  </p>\n<p> To resolve CS0173, verify that there is one and only one implicit conversion between <code>class1</code> and <code>class2</code>, regardless of which direction the conversion is in and regardless of which class the conversion is in. For more information, see <a href=\"../keywords/implicit-numeric-conversions-table\" data-linktype=\"relative-path\">Implicit Numeric Conversions Table</a> and <a href=\"../../programming-guide/statements-expressions-operators/conversion-operators\" data-linktype=\"relative-path\">Conversion Operators</a>.  </p>\n<h2 id=\"example\">Example</h2>\n<p> The following sample generates CS0173:  </p>\n<pre class=\"loading\"><code class=\"lang-cs\">// CS0173.cs  \npublic class C {}  \n\npublic class A   \n{  \n    //// The following code defines an implicit conversion operator from    \n    //// type C to type A.  \n    //public static implicit operator A(C c)  \n    //{  \n    //    A a = new A();  \n    //    a = c;  \n    //    return a;  \n    //}  \n}  \n\npublic class MyClass  \n{  \n    public static void F(bool b)  \n    {  \n        A a = new A();  \n        C c = new C();  \n\n        // The following line causes CS0173 because there is no implicit  \n        // conversion from a to c or from c to a.  \n        object o = b ? a : c;  \n\n        // To resolve the error, you can cast a and c.  \n        //object o = b ? (object)a : (object)c;  \n\n        // Alternatively, you can add a conversion operator from class C to  \n        // class A, or from class A to class C, but not both.  \n    }  \n\n   public static void Main()  \n   {  \n      F(true);  \n   }  \n}  \n</code></pre><h2 id=\"example-1\">Example</h2>\n<p> The following code does not produce CS0173 in Visual Studio 2005, but does in later versions.  </p>\n<pre class=\"loading\"><code class=\"lang-cs\">//cs0173_2.cs  \nclass M  \n{  \n    static int Main ()  \n    {  \n        int X = 1;  \n        // The following line causes CS0173 in Visual Studio 2005.  \n        object o = (X == 0) ? null : null;  \n        return -1;  \n    }  \n}  \n</code></pre></div></div>","outputRootRelativePath":"../../../../","pageMetadata":"<meta name=\"author\" content=\"BillWagner\">\r\n<meta name=\"ms.author\" content=\"wiwagn\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"/dotnet-internal/toc.json\">\r\n<meta name=\"ms.assetid\" content=\"eb1797ad-bf62-4e2b-8922-bef4aff36954\">\r\n<meta name=\"translation.priority.ht\" content=\"cs-cz\">\r\n<meta name=\"translation.priority.ht\" content=\"de-de\">\r\n<meta name=\"translation.priority.ht\" content=\"es-es\">\r\n<meta name=\"translation.priority.ht\" content=\"fr-fr\">\r\n<meta name=\"translation.priority.ht\" content=\"it-it\">\r\n<meta name=\"translation.priority.ht\" content=\"ja-jp\">\r\n<meta name=\"translation.priority.ht\" content=\"ko-kr\">\r\n<meta name=\"translation.priority.ht\" content=\"pl-pl\">\r\n<meta name=\"translation.priority.ht\" content=\"pt-br\">\r\n<meta name=\"translation.priority.ht\" content=\"ru-ru\">\r\n<meta name=\"translation.priority.ht\" content=\"tr-tr\">\r\n<meta name=\"translation.priority.ht\" content=\"zh-cn\">\r\n<meta name=\"translation.priority.ht\" content=\"zh-tw\">\r\n<meta name=\"caps.latest.revision\" content=\"10\">\r\n<meta name=\"ms.topic\" content=\"error-reference\">\r\n<meta name=\"ms.date\" content=\"2015-07-20\">\r\n<meta name=\"ms.technology\" content=\"devlang-csharp\">\r\n<meta name=\"ms.prod\" content=\".net\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"updated_at\" content=\"2017-03-21 01:42 AM\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/language-reference/compiler-messages/cs0173.md\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/tianzhXamarin/docs/csharp/language-reference/compiler-messages/cs0173.md\">\r\n<meta name=\"document_id\" content=\"7896166f-274e-626e-9258-3ebcc29e3666\">\r\n<meta name=\"pagetype\" content=\"Conceptual\">\r\n<meta name=\"toc_rel\" content=\"toc.json\">\r\n","rawMetadata":{"author":"BillWagner","ms.author":"wiwagn","manager":"wpickett","breadcrumb_path":"/dotnet-internal/toc.json","title":"Compiler Error CS0173 | Microsoft Docs","ms.assetid":"eb1797ad-bf62-4e2b-8922-bef4aff36954","f1_keywords":["CS0173"],"translation.priority.ht":["cs-cz","de-de","es-es","fr-fr","it-it","ja-jp","ko-kr","pl-pl","pt-br","ru-ru","tr-tr","zh-cn","zh-tw"],"caps.latest.revision":10,"ms.topic":"error-reference","dev_langs":["csharp"],"helpviewer_keywords":["CS0173"],"ms.date":"2015-07-20","ms.technology":["devlang-csharp"],"ms.prod":".net","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitCommitHistory":[{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"GitHub","comitter_email":"noreply@github.com","message":"Metadata updates (#1313)","commit_sha":"90fe68f7f3c4b46502b5d3770b1a2d57c6af748a","commit_date":"2016-12-09 12:40:41 -0800"},{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"Bill Wagner","comitter_email":"wiwagn@microsoft.com","message":":books: migration changes (#1235)","commit_sha":"b828bb1d6c8fb750ad9ef34f8a7a1b7d2574f4c6","commit_date":"2016-11-15 15:08:11 -0500"}],"updated_at":"2017-03-21 01:42 AM","_op_gitContributorInformation":{"author":{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner","id":"493969"},"contributors":[{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner"},{"profile_url":"https://github.com/mairaw","display_name":"Maira Wenzel","id":"12971179"}],"update_at":"3/21/2017"},"gitcommit":"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/language-reference/compiler-messages/cs0173.md","original_content_git_url":"https://github.com/dotnet/docs-internal/blob/tianzhXamarin/docs/csharp/language-reference/compiler-messages/cs0173.md","open_to_public_contributors":false,"content_git_url":"https://github.com/dotnet/docs/blob/master/docs/csharp/language-reference/compiler-messages/cs0173.md","document_id":"7896166f-274e-626e-9258-3ebcc29e3666","layout":"Conceptual","pagetype":"Conceptual","canonical_url":"https://docs.microsoft.com/en-us/dotnet-all/articles/csharp/language-reference/compiler-messages/cs0173","toc_asset_id":"articles/csharp/language-reference/compiler-messages/toc.json","toc_rel":"toc.json","_op_ogTitle":"Compiler Error CS0173","_op_displayDate":null,"_op_displayDate_source":null,"_op_wordCount":337,"_op_rawTitle":"<h1 id=\"compiler-error-cs0173\" sourcefile=\"docs/csharp/language-reference/compiler-messages/cs0173.md\" sourcestartlinenumber=\"33\" sourceendlinenumber=\"33\">Compiler Error CS0173</h1>","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet-all/articles/csharp/language-reference/compiler-messages/cs0173","fileRelativePath":"articles/csharp/language-reference/compiler-messages/cs0173.html"},"themesRelativePathToOutputRoot":"_themes/"}