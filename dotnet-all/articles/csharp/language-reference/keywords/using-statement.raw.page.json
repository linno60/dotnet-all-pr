{"content":"<div><div class=\"content\">\n<p>Provides a convenient syntax that ensures the correct use of <a class=\"xref\" href=\"../../../../api/system.idisposable\" data-linktype=\"relative-path\">IDisposable</a> objects.  </p>\n<h2 id=\"example\">Example</h2>\n<p> The following example shows how to use the using statement.  </p>\n<pre><code class=\"lang-cs\" name=\"csrefKeywordsNamespace#4\">        using (Font font1 = new Font(&quot;Arial&quot;, 10.0f)) \n        {\n            byte charset = font1.GdiCharSet;\n        }\n</code></pre><h2 id=\"remarks\">Remarks</h2>\n<p> <a class=\"xref\" href=\"../../../../api/system.io.file\" data-linktype=\"relative-path\">File</a> and <a class=\"xref\" href=\"../../../../api/system.drawing.font\" data-linktype=\"relative-path\">Font</a> are examples of managed types that access unmanaged resources (in this case file handles and device contexts). There are many other kinds of unmanaged resources and class library types that encapsulate them. All such types must implement the <a class=\"xref\" href=\"../../../../api/system.idisposable\" data-linktype=\"relative-path\">IDisposable</a> interface.  </p>\n<p> As a rule, when you use an <code>IDisposable</code> object, you should declare and instantiate it in a <code>using</code> statement. The <code>using</code> statement calls the <a class=\"xref\" href=\"../../../../api/system.idisposable#System_IDisposable_Dispose_\" data-linktype=\"relative-path\">Dispose</a> method on the object in the correct way, and (when you use it as shown earlier) it also causes the object itself to go out of scope as soon as <a class=\"xref\" href=\"../../../../api/system.idisposable#System_IDisposable_Dispose_\" data-linktype=\"relative-path\">Dispose</a> is called. Within the <code>using</code> block, the object is read-only and cannot be modified or reassigned.  </p>\n<p> The <code>using</code> statement ensures that <a class=\"xref\" href=\"../../../../api/system.idisposable#System_IDisposable_Dispose_\" data-linktype=\"relative-path\">Dispose</a> is called even if an exception occurs while you are calling methods on the object. You can achieve the same result by putting the object inside a try block and then calling <a class=\"xref\" href=\"../../../../api/system.idisposable#System_IDisposable_Dispose_\" data-linktype=\"relative-path\">Dispose</a> in a finally block; in fact, this is how the <code>using</code> statement is translated by the compiler. The code example earlier expands to the following code at compile time (note the extra curly braces to create the limited scope for the object):  </p>\n<pre><code class=\"lang-cs\" name=\"csrefKeywordsNamespace#5\">            {\n              Font font1 = new Font(&quot;Arial&quot;, 10.0f);\n              try\n              {\n                byte charset = font1.GdiCharSet;\n              }\n              finally\n              {\n                if (font1 != null)\n                  ((IDisposable)font1).Dispose();\n              }\n            }\n</code></pre><p> Multiple instances of a type can be declared in a <code>using</code> statement, as shown in the following example.  </p>\n<pre><code class=\"lang-cs\" name=\"csrefKeywordsNamespace#6\">            using (Font font3 = new Font(&quot;Arial&quot;, 10.0f),\n                        font4 = new Font(&quot;Arial&quot;, 10.0f))\n            {\n                // Use font3 and font4.\n            }\n</code></pre><p> You can instantiate the resource object and then pass the variable to the <code>using</code> statement, but this is not a best practice. In this case, the object remains in scope after control leaves the <code>using</code> block even though it will probably no longer have access to its unmanaged resources. In other words, it will no longer be fully initialized. If you try to use the object outside the <code>using</code> block, you risk causing an exception to be thrown. For this reason, it is generally better to instantiate the object in the <code>using</code> statement and limit its scope to the <code>using</code> block.  </p>\n<pre><code class=\"lang-cs\" name=\"csrefKeywordsNamespace#7\">            Font font2 = new Font(&quot;Arial&quot;, 10.0f);\n            using (font2) // not recommended\n            {\n                // use font2\n            }\n            // font2 is still in scope\n            // but the method call throws an exception\n            float f = font2.GetHeight(); \n\n</code></pre><h2 id=\"c-language-specification\">C# Language Specification</h2>\n<p> For more information, see the <a href=\"../language-specification\" data-linktype=\"relative-path\">C# Language Specification</a>. The language specification is the definitive source for C# syntax and usage.  </p>\n<h2 id=\"see-also\">See Also</h2>\n<p> <a href=\"../index\" data-linktype=\"relative-path\">C# Reference</a><br> <a href=\"../../programming-guide/index\" data-linktype=\"relative-path\">C# Programming Guide</a><br> <a href=\"index\" data-linktype=\"relative-path\">C# Keywords</a><br> <a href=\"using-directive\" data-linktype=\"relative-path\">using Directive</a><br> <a href=\"../../../standard/garbagecollection/index\" data-linktype=\"relative-path\">Garbage Collection</a><br> <a href=\"http://msdn.microsoft.com/library/eb4e1af0-3b48-4fbc-ad4e-fc2f64138bf9\" data-linktype=\"external\">Implementing a Dispose Method</a></p>\n</div></div>","outputRootRelativePath":"../../../../","pageMetadata":"<meta name=\"author\" content=\"BillWagner\">\r\n<meta name=\"ms.author\" content=\"wiwagn\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"/dotnet-internal/toc2.json\">\r\n<meta name=\"ms.assetid\" content=\"afc355e6-f0b9-4240-94dd-0d93f17d9fc3\">\r\n<meta name=\"translation.priority.ht\" content=\"cs-cz\">\r\n<meta name=\"translation.priority.ht\" content=\"de-de\">\r\n<meta name=\"translation.priority.ht\" content=\"es-es\">\r\n<meta name=\"translation.priority.ht\" content=\"fr-fr\">\r\n<meta name=\"translation.priority.ht\" content=\"it-it\">\r\n<meta name=\"translation.priority.ht\" content=\"ja-jp\">\r\n<meta name=\"translation.priority.ht\" content=\"ko-kr\">\r\n<meta name=\"translation.priority.ht\" content=\"pl-pl\">\r\n<meta name=\"translation.priority.ht\" content=\"pt-br\">\r\n<meta name=\"translation.priority.ht\" content=\"ru-ru\">\r\n<meta name=\"translation.priority.ht\" content=\"tr-tr\">\r\n<meta name=\"translation.priority.ht\" content=\"zh-cn\">\r\n<meta name=\"translation.priority.ht\" content=\"zh-tw\">\r\n<meta name=\"caps.latest.revision\" content=\"31\">\r\n<meta name=\"ms.topic\" content=\"article\">\r\n<meta name=\"ms.date\" content=\"2015-07-20\">\r\n<meta name=\"ms.technology\" content=\"devlang-csharp\">\r\n<meta name=\"ms.prod\" content=\".net\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"updated_at\" content=\"2016-12-15 06:00 PM\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/language-reference/keywords/using-statement.md\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/master/docs/csharp/language-reference/keywords/using-statement.md\">\r\n<meta name=\"document_id\" content=\"353ae06c-e79a-adef-2175-795ed80845d2\">\r\n<meta name=\"pagetype\" content=\"Conceptual\">\r\n<meta name=\"toc_rel\" content=\"toc2.json\">\r\n","rawMetadata":{"author":"BillWagner","ms.author":"wiwagn","manager":"wpickett","breadcrumb_path":"/dotnet-internal/toc.json","title":"using Statement (C# Reference) | Microsoft Docs","ms.assetid":"afc355e6-f0b9-4240-94dd-0d93f17d9fc3","translation.priority.ht":["cs-cz","de-de","es-es","fr-fr","it-it","ja-jp","ko-kr","pl-pl","pt-br","ru-ru","tr-tr","zh-cn","zh-tw"],"caps.latest.revision":31,"ms.topic":"article","dev_langs":["csharp"],"helpviewer_keywords":["using statement [C#]"],"ms.date":"2015-07-20","ms.technology":["devlang-csharp"],"ms.prod":".net","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitCommitHistory":[{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"GitHub","comitter_email":"noreply@github.com","message":"Metadata updates (#1313)","commit_sha":"90fe68f7f3c4b46502b5d3770b1a2d57c6af748a","commit_date":"2016-12-09 12:40:41 -0800"},{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"Bill Wagner","comitter_email":"wiwagn@microsoft.com","message":":books: migration changes (#1235)","commit_sha":"b828bb1d6c8fb750ad9ef34f8a7a1b7d2574f4c6","commit_date":"2016-11-15 15:08:11 -0500"}],"updated_at":"2016-12-15 06:00 PM","_op_gitContributorInformation":{"author":{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner","id":"493969"},"contributors":[{"profile_url":"https://github.com/BillWagner","display_name":"Bill Wagner"},{"profile_url":"https://github.com/mairaw","display_name":"Maira Wenzel","id":"12971179"}],"update_at":"12/15/2016"},"gitcommit":"https://github.com/dotnet/docs-internal/blob/90fe68f7f3c4b46502b5d3770b1a2d57c6af748a/docs/csharp/language-reference/keywords/using-statement.md","original_content_git_url":"https://github.com/dotnet/docs-internal/blob/master/docs/csharp/language-reference/keywords/using-statement.md","open_to_public_contributors":false,"content_git_url":"https://github.com/dotnet/docs/blob/master/docs/csharp/language-reference/keywords/using-statement.md","document_id":"353ae06c-e79a-adef-2175-795ed80845d2","layout":"Conceptual","pagetype":"Conceptual","canonical_url":"https://docs.microsoft.com/en-us/dotnet-all/articles/csharp/language-reference/keywords/using-statement","toc_asset_id":"articles/csharp/language-reference/keywords/toc.json","toc_rel":"toc.json","_op_ogTitle":"using Statement (C# Reference)","_op_displayDate":null,"_op_displayDate_source":null,"_op_wordCount":460,"_op_rawTitle":"<h1 id=\"using-statement-c-reference\" sourcefile=\"docs/csharp/language-reference/keywords/using-statement.md\" sourcestartlinenumber=\"31\" sourceendlinenumber=\"31\">using Statement (C# Reference)</h1>","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet-all/articles/csharp/language-reference/keywords/using-statement","fileRelativePath":"articles/csharp/language-reference/keywords/using-statement.html"},"themesRelativePathToOutputRoot":"_themes/"}