{"content":"<div><div class=\"content\">\n<p>With the move of .NET Core projects from project.json to csproj and MSBuild, a significant investment also happened that resulted in unification of the project file and assets that allow tracking of dependencies. For .NET Core projects this is similar to what project.json did. There is no separate JSON or XML file that tracks NuGet dependencies. With this change, we&#39;ve also introduced another type of <em>reference</em> into the csproj syntax called the <code>&lt;PackageReference&gt;</code>. </p>\n<p>This document describes the new reference type. It also shows how to add a package dependency using this new reference type to your project. </p>\n<h2 id=\"the-new-packagereference-element\">The new <packagereference> element</packagereference></h2>\n<p>The <code>&lt;PackageReference&gt;</code> has the following basic structure:</p>\n<pre class=\"loading\"><code class=\"lang-xml\">&lt;PackageReference Include=&quot;PACKAGE_ID&quot; Version=&quot;PACKAGE_VERSION&quot; /&gt;\n</code></pre><p>If you are familiar with MSBuild, it will look familiar to the other reference types that already exist. The key is the <code>Include</code> statement which specifies the package id that you wish to add to the project. The <code>&lt;Version&gt;</code> child element specifies the version to get. The versions are specified as per <a href=\"https://docs.microsoft.com/nuget/create-packages/dependency-versions#version-ranges\" data-linktype=\"external\">NuGet version rules</a>.</p>\n<div class=\"NOTE\"><h5>Note</h5><p>If you are not familiar with the overall <code>csproj</code> syntax, see the <a href=\"https://docs.microsoft.com/visualstudio/msbuild/msbuild-project-file-schema-reference\" data-linktype=\"external\">MSBuild project reference</a> documentation for more information.  </p>\n</div>\n<p>Adding a dependency that is available only in a specific target is done using conditions like in the following example:</p>\n<pre class=\"loading\"><code class=\"lang-xml\">&lt;PackageReference Include=&quot;PACKAGE_ID&quot; Version=&quot;PACKAGE_VERSION&quot; Condition=&quot;&#39;$(TargetFramework)&#39; == &#39;netcoreapp1.0&#39;&quot; /&gt;\n</code></pre><p>The above means that the dependency will only be valid if the build is happening for that given target. The <code>$(TargetFramework)</code> in the condition is a MSBuild property that is being set in the project. For most common .NET Core applications, you will not need to do this. </p>\n<h2 id=\"adding-a-dependency-to-your-project\">Adding a dependency to your project</h2>\n<p>Adding a dependency to your project is straightforward. Here is an example of how to add Json.NET version <code>9.0.1</code> to your project. Of course, it is applicable to any other NuGet dependency. </p>\n<p>When you open your project file, you will see two or more <code>&lt;ItemGroup&gt;</code> nodes. You will notice that one of the nodes already has <code>&lt;PackageReference&gt;</code> elements in it. You can add your new dependency to this node, or create a new one; it is completely up to you as the result will be the same. </p>\n<p>In this example we will use the default template that is dropped by <code>dotnet new console</code>. This is a simple console application. When we open up the project, we first find the <code>&lt;ItemGroup&gt;</code> with already existing <code>&lt;PackageReference&gt;</code> in it. We then add the following to it:</p>\n<pre class=\"loading\"><code class=\"lang-xml\">&lt;PackageReference Include=&quot;Newtonsoft.Json&quot; Version=&quot;9.0.1&quot; /&gt;\n</code></pre><p>After this, we save the project and run the <code>dotnet restore</code> command to install the dependency. </p>\n<p>The full project looks like this:</p>\n<pre class=\"loading\"><code class=\"lang-xml\">&lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;\n  &lt;PropertyGroup&gt;\n    &lt;OutputType&gt;Exe&lt;/OutputType&gt;\n    &lt;TargetFramework&gt;netcoreapp1.0&lt;/TargetFramework&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;ItemGroup&gt;\n    &lt;PackageReference Include=&quot;Newtonsoft.Json&quot; Version=&quot;9.0.1&quot; /&gt;\n  &lt;/ItemGroup&gt;\n&lt;/Project&gt;\n</code></pre><h2 id=\"removing-a-dependency-from-the-project\">Removing a dependency from the project</h2>\n<p>Removing a dependency from the project file involves simply removing the <code>&lt;PackageReference&gt;</code> from the project file.</p>\n</div></div>","outputRootRelativePath":"../../../","pageMetadata":"<meta name=\"author\" content=\"blackdwarf\">\r\n<meta name=\"ms.author\" content=\"mairaw\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"/dotnet-internal/toc2.json\">\r\n<meta name=\"ms.devlang\" content=\"dotnet\">\r\n<meta name=\"ms.assetid\" content=\"74b87cdb-a244-4c13-908c-539118bfeef9\">\r\n<meta name=\"description\" content=\"Explains how to manage your dependencies with the .NET Core tools.\">\r\n<meta name=\"keywords\" content=\"CLI, extensibility, custom commands, .NET Core\">\r\n<meta name=\"ms.topic\" content=\"article\">\r\n<meta name=\"ms.date\" content=\"03/06/2017\">\r\n<meta name=\"ms.technology\" content=\"dotnet-cli\">\r\n<meta name=\"ms.prod\" content=\".net-core\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"updated_at\" content=\"2017-03-15 06:14 PM\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/dotnet/docs-internal/blob/c2722327c3ca213309cae5e0d0417b0f0e9ea514/docs/core/tools/dependencies.md\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/master/docs/core/tools/dependencies.md\">\r\n<meta name=\"document_id\" content=\"64e9ccda-64e0-e4d7-6732-3b1746958ff1\">\r\n<meta name=\"pagetype\" content=\"Conceptual\">\r\n<meta name=\"toc_rel\" content=\"../../toc2.json\">\r\n","rawMetadata":{"author":"blackdwarf","ms.author":"mairaw","manager":"wpickett","breadcrumb_path":"/dotnet-internal/toc.json","title":"Managing dependencies in .NET Core tooling | Microsoft Docs","ms.devlang":"dotnet","ms.assetid":"74b87cdb-a244-4c13-908c-539118bfeef9","description":"Explains how to manage your dependencies with the .NET Core tools.","keywords":"CLI, extensibility, custom commands, .NET Core","ms.topic":"article","ms.date":"03/06/2017","ms.technology":"dotnet-cli","ms.prod":".net-core","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitCommitHistory":[{"author_name":"Maira Wenzel","author_email":"mairaw@microsoft.com","committer_name":"GitHub","comitter_email":"noreply@github.com","message":":boom: removing preview3 folder (#1650)","commit_sha":"c2722327c3ca213309cae5e0d0417b0f0e9ea514","commit_date":"2017-03-07 03:26:34 -0800"}],"updated_at":"2017-03-15 06:14 PM","_op_gitContributorInformation":{"author":{"profile_url":"https://github.com/blackdwarf","display_name":"Zlatko Knezevic","id":"3115004"},"contributors":[{"profile_url":"https://github.com/blackdwarf","display_name":"Zlatko Knezevic"},{"profile_url":"https://github.com/mairaw","display_name":"Maira Wenzel","id":"12971179"}],"update_at":"3/15/2017"},"gitcommit":"https://github.com/dotnet/docs-internal/blob/c2722327c3ca213309cae5e0d0417b0f0e9ea514/docs/core/tools/dependencies.md","original_content_git_url":"https://github.com/dotnet/docs-internal/blob/master/docs/core/tools/dependencies.md","open_to_public_contributors":false,"content_git_url":"https://github.com/dotnet/docs/blob/master/docs/core/tools/dependencies.md","document_id":"64e9ccda-64e0-e4d7-6732-3b1746958ff1","layout":"Conceptual","pagetype":"Conceptual","canonical_url":"https://docs.microsoft.com/en-us/dotnet-all/articles/core/tools/dependencies","toc_asset_id":"articles/toc.json","toc_rel":"../../toc.json","_op_ogTitle":"Managing dependencies in .NET Core tooling","_op_displayDate":"2017-3-6","_op_displayDate_source":"2017-03-06T00:00:00Z","_op_wordCount":461,"_op_rawTitle":"<h1 id=\"managing-dependencies-with-net-core-sdk-10\" sourcefile=\"docs/core/tools/dependencies.md\" sourcestartlinenumber=\"15\" sourceendlinenumber=\"15\">Managing dependencies with .NET Core SDK 1.0</h1>","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet-all/articles/core/tools/dependencies","fileRelativePath":"articles/core/tools/dependencies.html"},"themesRelativePathToOutputRoot":"_themes/"}