{"content":"\r\n  \r\n  <h1>\r\n    <span class=\"lang-csharp\">HierarchicalDataSourceView</span>\r\n    \t\t\t\tClass\r\n  </h1>\r\n  \r\n  <h2 class=\"hiddenAnchor\">Definition</h2>\r\n  \r\n  <div class=\"metadata\">\r\n  \r\n  \r\n  </div>\r\n  \r\n  <div class=\"summaryHolder\">\r\n  \t<div class=\"summary\">\r\n  \t\t<p>Represents a data view on a node or collection of nodes in a hierarchical data structure for a <a class=\"xref\" href=\"system.web.ui.hierarchicaldatasourcecontrol\" data-linktype=\"relative-path\">HierarchicalDataSourceControl</a> control.</p>\n\r\n  \t</div>\r\n  </div><nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n    <h3>In this Article</h3>\r\n  </nav>\t<pre class=\"wrap loading\"><code class=\"csharp lang-csharp\">public abstract class HierarchicalDataSourceView</code></pre>\r\n  \r\n  \r\n  \r\n  \r\n  \t<dl class=\"attributeList stack\">\r\n  \t\t<dt>Inheritance</dt><dd>\r\n  \t\t<div class=\"pdlHolder\">\r\n  \t\t<div class=\"pdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a></span></div><span class=\"lang-csharp\">HierarchicalDataSourceView</span>\r\n  \t\t</div>\r\n  \t\t</dd>\r\n  \t</dl>\r\n  \r\n  \t<dl class=\"attributeList stack\">\r\n  \t\t<dt>Derived</dt><dd>\r\n  \t\t<div class=\"cdlHolder\">\r\n        \t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.web.ui.webcontrols.sitemaphierarchicaldatasourceview\" data-linktype=\"relative-path\">SiteMapHierarchicalDataSourceView</a></span></div>\r\n        \t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.web.ui.webcontrols.xmlhierarchicaldatasourceview\" data-linktype=\"relative-path\">XmlHierarchicalDataSourceView</a></span></div>\r\n  \t\t</div>\r\n  \t\t</dd>\r\n  \t</dl>\r\n  \r\n  \r\n  \r\n  \t<h3 class=\"accented\">Inherited Members</h3>\r\n  \t<h4 class=\"accented\"></h4>\r\n  \t<div class=\"cdlHolder\">\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_\" data-linktype=\"relative-path\">Equals(Object)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_System_Object_\" data-linktype=\"relative-path\">Equals(Object, Object)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_GetHashCode\" data-linktype=\"relative-path\">GetHashCode()</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_GetType\" data-linktype=\"relative-path\">GetType()</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_MemberwiseClone\" data-linktype=\"relative-path\">MemberwiseClone()</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_ReferenceEquals_System_Object_System_Object_\" data-linktype=\"relative-path\">ReferenceEquals(Object, Object)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_ToString\" data-linktype=\"relative-path\">ToString()</a></span></div>\r\n  \t</div>\r\n  \r\n  \t<h2 class=\"accented\">Examples</h2>\r\n  \t<p>The following code example demonstrates how to derive a class from the HierarchicalDataSourceView class to retrieve data from hierarchical data storage, in this case a file system. The <code>FileSystemDataSourceView</code> class is a strongly typed HierarchicalDataSourceView instance that enables hierarchical Web server controls such as the <a class=\"xref\" href=\"system.web.ui.webcontrols.treeview\" data-linktype=\"relative-path\">TreeView</a> control to bind to a <code>FileSystemDataSource</code> control and display file system information. For security purposes, file system information is displayed only if the data source control is being used in a localhost, authenticated scenario, and only starts with the virtual directory that the Web Forms page using the data source control resides in. Otherwise, the <code>viewPath</code> parameter passed to the constructor might be used to create a view based on the current file system path. This code example is part of a larger example provided for the <a class=\"xref\" href=\"system.web.ui.hierarchicaldatasourcecontrol\" data-linktype=\"relative-path\">HierarchicalDataSourceControl</a> class.  </p>\n<pre><code class=\"lang-cs\" name=\"Urtue.Samples.Alexkr.FileSystemDataSource_1#3\">public class FileSystemDataSourceView : HierarchicalDataSourceView\n{\n    private string _viewPath;\n\n    public FileSystemDataSourceView(string viewPath)\n    {\n        HttpRequest currentRequest = HttpContext.Current.Request;\n        if (viewPath == &quot;&quot;)\n        {\n            _viewPath = currentRequest.MapPath(currentRequest.ApplicationPath);\n        }\n        else\n        {\n            _viewPath = Path.Combine(\n                currentRequest.MapPath(currentRequest.ApplicationPath),\n                viewPath);\n        }\n    }\n\n    // Starting with the rootNode, recursively build a list of\n    // FileSystemInfo nodes, create FileSystemHierarchyData\n    // objects, add them all to the FileSystemHierarchicalEnumerable,\n    // and return the list.\n    public override IHierarchicalEnumerable Select()\n    {\n        HttpRequest currentRequest = HttpContext.Current.Request;\n\n        // SECURITY: There are many security issues that can be raised\n        // SECURITY: by exposing the file system structure of a Web server\n        // SECURITY: to an anonymous user in a limited trust scenario such as\n        // SECURITY: a Web page served on an intranet or the Internet.\n        // SECURITY: For this reason, the FileSystemDataSource only\n        // SECURITY: shows data when the HttpRequest is received\n        // SECURITY: from a local Web server. In addition, the data source\n        // SECURITY: does not display data to anonymous users.\n        if (currentRequest.IsAuthenticated &amp;&amp;\n            (currentRequest.UserHostAddress == &quot;127.0.0.1&quot; ||\n             currentRequest.UserHostAddress == &quot;::1&quot;))\n        {\n            DirectoryInfo rootDirectory = new DirectoryInfo(_viewPath);\n            if (!rootDirectory.Exists)\n            {\n                return null;\n            }\n\n            FileSystemHierarchicalEnumerable fshe =\n                new FileSystemHierarchicalEnumerable();\n\n            foreach (FileSystemInfo fsi\n                in rootDirectory.GetFileSystemInfos())\n            {\n                fshe.Add(new FileSystemHierarchyData(fsi));\n            }\n            return fshe;\n        }\n        else\n        {\n            throw new NotSupportedException(\n                &quot;The FileSystemDataSource only &quot; +\n                &quot;presents data in an authenticated, localhost context.&quot;);\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"Urtue.Samples.Alexkr.FileSystemDataSource_1#3\">Public Class FileSystemDataSourceView\n    Inherits HierarchicalDataSourceView\n\n    Private _viewPath As String\n\n    Public Sub New(ByVal viewPath As String)\n        Dim currentRequest As HttpRequest = HttpContext.Current.Request\n        If viewPath = &quot;&quot; Then\n            _viewPath = currentRequest.MapPath(currentRequest.ApplicationPath)\n        Else\n            _viewPath = Path.Combine(currentRequest.MapPath(currentRequest.ApplicationPath), viewPath)\n        End If\n    End Sub &#39;New\n\n\n    &#39; Starting with the rootNode, recursively build a list of\n    &#39; FileSystemInfo nodes, create FileSystemHierarchyData\n    &#39; objects, add them all to the FileSystemHierarchicalEnumerable,\n    &#39; and return the list.\n    Public Overrides Function [Select]() As IHierarchicalEnumerable\n        Dim currentRequest As HttpRequest = HttpContext.Current.Request\n\n        &#39; SECURITY: There are many security issues that can be raised\n        &#39; SECURITY: by exposing the file system structure of a Web server\n        &#39; SECURITY: to an anonymous user in a limited trust scenario such as\n        &#39; SECURITY: a Web page served on an intranet or the Internet.\n        &#39; SECURITY: For this reason, the FileSystemDataSource only\n        &#39; SECURITY: shows data when the HttpRequest is received\n        &#39; SECURITY: from a local Web server. In addition, the data source\n        &#39; SECURITY: does not display data to anonymous users.\n        If currentRequest.IsAuthenticated AndAlso _\n            (currentRequest.UserHostAddress = &quot;127.0.0.1&quot; OrElse _\n             currentRequest.UserHostAddress = &quot;::1&quot;) Then\n\n            Dim rootDirectory As New DirectoryInfo(_viewPath)\n\n            Dim fshe As New FileSystemHierarchicalEnumerable()\n\n            Dim fsi As FileSystemInfo\n            For Each fsi In rootDirectory.GetFileSystemInfos()\n                fshe.Add(New FileSystemHierarchyData(fsi))\n            Next fsi\n            Return fshe\n        Else\n            Throw New NotSupportedException( _\n                &quot;The FileSystemDataSource only &quot; + _\n                &quot;presents data in an authenticated, localhost context.&quot;)\n        End If\n    End Function &#39;Select\nEnd Class &#39;FileSystemDataSourceView\n</code></pre>\r\n  \r\n  \t<h2 class=\"accented\">Remarks</h2>\r\n  \t<p>ASP.NET supports a data-binding architecture that enables Web server controls to bind to data and present it in a consistent fashion. Web server controls that bind to data are called data-bound controls, and the classes that facilitate that binding are called data source controls. Data source controls can represent any data source: a file, a stream, a relational database, a business object, and so on. Data source controls present data in a consistent way to data-bound controls, regardless of the source or format of the underlying data.  </p>\n<p> Data source controls that represent hierarchical data derive from the abstract <a class=\"xref\" href=\"system.web.ui.hierarchicaldatasourcecontrol\" data-linktype=\"relative-path\">HierarchicalDataSourceControl</a> class. You can think of a data source control as the combination of the data source control object and its associated views on the underlying data, which are represented by data source view objects. Hierarchical data source controls support a hierarchical data source view for each hierarchical level of data they represent. The data source views are not named, like the <a class=\"xref\" href=\"system.web.ui.datasourceview\" data-linktype=\"relative-path\">DataSourceView</a> objects associated with a <a class=\"xref\" href=\"system.web.ui.datasourcecontrol\" data-linktype=\"relative-path\">DataSourceControl</a> control, but are identified by their unique hierarchical path.  </p>\n<p> Data source views define the capabilities of a data source control. All data source view objects, including HierarchicalDataSourceView, support data retrieval from the underlying data source using the <a class=\"xref\" href=\"system.web.ui.hierarchicaldatasourceview#System_Web_UI_HierarchicalDataSourceView_Select_\" data-linktype=\"relative-path\">Select</a> method, which retrieves a hierarchical list of data as an <a class=\"xref\" href=\"system.web.ui.ihierarchicalenumerable\" data-linktype=\"relative-path\">IHierarchicalEnumerable</a> object. All data source view objects optionally support a basic set of capabilities, including operations such as <a class=\"xref\" href=\"system.web.ui.datasourceview#System_Web_UI_DataSourceView_Insert_\" data-linktype=\"relative-path\">Insert</a>, <a class=\"xref\" href=\"system.web.ui.datasourceview#System_Web_UI_DataSourceView_Update_\" data-linktype=\"relative-path\">Update</a>, <a class=\"xref\" href=\"system.web.ui.datasourceview#System_Web_UI_DataSourceView_Delete_\" data-linktype=\"relative-path\">Delete</a>, and sorting. A data-bound control can discover the capabilities of a data source control by retrieving an associated data source view using the <a class=\"xref\" href=\"system.web.ui.hierarchicaldatasourcecontrol#System_Web_UI_HierarchicalDataSourceControl_GetHierarchicalView_\" data-linktype=\"relative-path\">GetHierarchicalView</a> method and querying the view at design time or at run time. HierarchicalDataSourceView does not currently support <a class=\"xref\" href=\"system.web.ui.datasourceview#System_Web_UI_DataSourceView_Insert_\" data-linktype=\"relative-path\">Insert</a>, <a class=\"xref\" href=\"system.web.ui.datasourceview#System_Web_UI_DataSourceView_Update_\" data-linktype=\"relative-path\">Update</a> or <a class=\"xref\" href=\"system.web.ui.datasourceview#System_Web_UI_DataSourceView_Delete_\" data-linktype=\"relative-path\">Delete</a> operations.</p>\n\r\n  \r\n  \r\n  \t\t<section>\r\n  \t\t\t<h2 class=\"accented \">Constructors\r\n  \t\t</h2>\r\n  \t\t\r\n  \t\t\t\t\t<div data-moniker=\" netframework-3.0 netframework-3.5 netframework-4.0 netframework-4.5.1 netframework-4.5.2 netframework-4.5 netframework-4.6.1 netframework-4.6.2 netframework-4.6\">\r\n  \t\t\r\n  \t\t\t\t\t<a id=\"System_Web_UI_HierarchicalDataSourceView__ctor_\"></a>\r\n  \t\t\r\n  \t\t\t\t<div class=\"memberNameHolder\" id=\"System_Web_UI_HierarchicalDataSourceView__ctor\">\r\n  \t\t\t\t\t<h3 class=\"accented\">\r\n  \t\t\t\t\t\t<span class=\"lang-csharp\">HierarchicalDataSourceView()</span>\r\n  \t\t\t\t\t</h3>\r\n  \t\t\t\t</div>\r\n  \t\t\r\n  \t\t\t\t<div class=\"memberInfo\">\r\n  \t\t\t\t\t<p>Initializes a new instance of the <a class=\"xref\" href=\"system.web.ui.hierarchicaldatasourceview\" data-linktype=\"relative-path\">HierarchicalDataSourceView</a> class.</p>\n\r\n  \t\t\r\n  \t\t\t\t\t\t<pre class=\"wrap loading\"><code class=\"csharp lang-csharp\" dir=\"ltr\">protected HierarchicalDataSourceView ();</code></pre>\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\t\t</div>\r\n  \t\t\t</div>\r\n  \t\t\r\n  \t\t</section>\t\t<section>\r\n  \t\t\t<h2 class=\"accented \">Methods\r\n  \t\t</h2>\r\n  \t\t\r\n  \t\t\t\t\t<div data-moniker=\" netframework-3.0 netframework-3.5 netframework-4.0 netframework-4.5.1 netframework-4.5.2 netframework-4.5 netframework-4.6.1 netframework-4.6.2 netframework-4.6\">\r\n  \t\t\r\n  \t\t\t\t\t<a id=\"System_Web_UI_HierarchicalDataSourceView_Select_\"></a>\r\n  \t\t\r\n  \t\t\t\t<div class=\"memberNameHolder\" id=\"System_Web_UI_HierarchicalDataSourceView_Select\">\r\n  \t\t\t\t\t<h3 class=\"accented\">\r\n  \t\t\t\t\t\t<span class=\"lang-csharp\">Select()</span>\r\n  \t\t\t\t\t</h3>\r\n  \t\t\t\t</div>\r\n  \t\t\r\n  \t\t\t\t<div class=\"memberInfo\">\r\n  \t\t\t\t\t<p>Gets a list of all the data items in the view.</p>\n\r\n  \t\t\r\n  \t\t\t\t\t\t<pre class=\"wrap loading\"><code class=\"csharp lang-csharp\" dir=\"ltr\">public abstract System.Web.UI.IHierarchicalEnumerable Select ();</code></pre>\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\t\t\t\t\t<div class=\"propertyInfoTitle stack\">Returns</div>\r\n  \t\t\t\t\t\t\t<div class=\"propertyInfo\">\r\n  \t\t\t\t\t\t\t<div class=\"subtle\">\r\n  \t\t\t\t\t\t\t\t\t<span class=\"lang-csharp\"><a class=\"xref\" href=\"system.web.ui.ihierarchicalenumerable\" data-linktype=\"relative-path\">IHierarchicalEnumerable</a></span>\r\n  \t\t\t\t\t\t\t</div>\r\n  \t\t\t\t\t\t\t<p>An <a class=\"xref\" href=\"system.web.ui.ihierarchicalenumerable\" data-linktype=\"relative-path\">IHierarchicalEnumerable</a> collection of data items.</p>\n\r\n  \t\t\t\t\t\t\t</div>\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\t\t\t\t<h4 class=\"accented\">Remarks</h4>\r\n  \t\t\t\t\t\t<p>The Select method returns an <a class=\"xref\" href=\"system.web.ui.ihierarchicalenumerable\" data-linktype=\"relative-path\">IHierarchicalEnumerable</a> collection of data items in the current view. You can call the <a class=\"xref\" href=\"system.collections.ienumerable#System_Collections_IEnumerable_GetEnumerator_\" data-linktype=\"relative-path\">GetEnumerator</a> method to get an <a class=\"xref\" href=\"system.collections.ienumerator\" data-linktype=\"relative-path\">IEnumerator</a> object and iterate through the collection of data items.</p>\n\r\n  \t\t\r\n  \t\t\t\t</div>\r\n  \t\t\t</div>\r\n  \t\t\r\n  \t\t</section>\r\n  \r\n  \r\n","outputRootRelativePath":"../","pageMetadata":"<meta name=\"author\" content=\"dotnet-bot\">\r\n<meta name=\"ms.author\" content=\"dotnetcontent\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"../toc2.json\">\r\n<meta name=\"apiPlatform\" content=\"dotnet\">\r\n<meta name=\"ms.topic\" content=\"managed-reference\">\r\n<meta name=\"ms.prod\" content=\".net\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/master/api/System.Web.UI.HierarchicalDataSourceView.yml\">\r\n<meta name=\"APIName\" content=\"System.Web.UI.HierarchicalDataSourceView\">\r\n<meta name=\"APIName\" content=\"System.Web.UI.HierarchicalDataSourceView..ctor\">\r\n<meta name=\"APIName\" content=\"System.Web.UI.HierarchicalDataSourceView.Select\">\r\n<meta name=\"APILocation\" content=\"System.Web.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-31 02:21 PM\">\r\n<meta name=\"document_id\" content=\"0c26876e-fd01-a61c-0989-4cb7f3b2ad88\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Represents a data view on a node or collection of nodes in a hierarchical data structure for a  control.\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/system.web.ui/toc2.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.Web.UI.HierarchicalDataSourceView\">\r\n","rawMetadata":{"author":"dotnet-bot","ms.author":"dotnetcontent","manager":"wpickett","breadcrumb_path":"/dotnet/toc.json","apiPlatform":"dotnet","ms.topic":"managed-reference","ms.prod":".net","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitRefSkeletonCommitHistory":[],"original_ref_skeleton_git_url":"https://github.com/dotnet/docs-internal/blob/master/api/System.Web.UI.HierarchicalDataSourceView.yml","open_to_public_contributors":false,"api_name":["System.Web.UI.HierarchicalDataSourceView","System.Web.UI.HierarchicalDataSourceView..ctor","System.Web.UI.HierarchicalDataSourceView.Select"],"api_location":["System.Web.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.Web.UI.HierarchicalDataSourceView","System::Web::UI::HierarchicalDataSourceView","System.Web.UI.HierarchicalDataSourceView.#ctor","System::Web::UI::HierarchicalDataSourceView::#ctor","System.Web.UI.HierarchicalDataSourceView.Select","System::Web::UI::HierarchicalDataSourceView::Select"],"dev_langs":["csharp"],"updated_at":"2017-03-31 02:21 PM","document_id":"0c26876e-fd01-a61c-0989-4cb7f3b2ad88","content_git_url":"https://github.com/dotnet/docs-internal/blob/master/xml/System.Web.UI/HierarchicalDataSourceView.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"HierarchicalDataSourceView class | Microsoft Docs","_op_ogTitle":"HierarchicalDataSourceView class","description":"Represents a data view on a node or collection of nodes in a hierarchical data structure for a  control.\n","toc_asset_id":"api/_splitted/System.Web.UI/toc.json","toc_rel":"_splitted/System.Web.UI/toc.json","source_url":"","ms.assetid":"System.Web.UI.HierarchicalDataSourceView","canonical_url":"https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.hierarchicaldatasourceview","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.hierarchicaldatasourceview","fileRelativePath":"api/System.Web.UI.HierarchicalDataSourceView.html"},"themesRelativePathToOutputRoot":"_themes/"}