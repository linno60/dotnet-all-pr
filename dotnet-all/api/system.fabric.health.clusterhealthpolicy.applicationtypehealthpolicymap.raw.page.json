{"content":"\r\n  \r\n  \t<a id=\"System_Fabric_Health_ClusterHealthPolicy_ApplicationTypeHealthPolicyMap\"></a>\r\n  \r\n  <h1>\r\n    <span class=\"lang-csharp\">ClusterHealthPolicy.ApplicationTypeHealthPolicyMap</span>\r\n      Property\r\n  </h1>\r\n  \r\n  <h2 class=\"hiddenAnchor\">Definition</h2>\r\n  \r\n  <div class=\"metadata\">\r\n  \t\t<dl class=\"attributeList\">\r\n  \t\t\t<dt>Namespace:</dt>\t\r\n  \t\t\t\t<dd>\r\n  \t\t\t\t\t\t<span class=\"lang-csharp\"><a class=\"xref\" href=\"system.fabric.health\" data-linktype=\"relative-path\">System.Fabric.Health</a></span>\r\n  \t\t\t\t</dd>\r\n  \t\t</dl>\r\n  \r\n  \t\t<dl class=\"attributeList\">\r\n  \t\t\t<dt>Assembly:</dt><dd>System.Fabric.dll</dd>\r\n  \t\t</dl>\r\n  \r\n  </div>\r\n  \r\n  \r\n  <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n    <h3>In this Article</h3>\r\n  </nav>\r\n  \r\n  \t\r\n  \t<div data-moniker=\" servicefabric-5.5.216\">\r\n  \t\t<div class=\"summaryHolder\">\r\n  \t\t\t<div class=\"summary\">\r\n  \t\t\t\t<p>\n            Gets the map with MaxPercentUnhealthyApplications per application type name. \n            </p>\r\n  \t\t\t</div>\r\n  \t\t</div>\r\n  \t\r\n  \t\t\t<pre class=\"wrap loading\"><code class=\"csharp lang-csharp\" dir=\"ltr\">public System.Fabric.Health.ApplicationTypeHealthPolicyMap ApplicationTypeHealthPolicyMap { get; }</code></pre>\r\n  \t\r\n  \t\r\n  \t\r\n  \t\t\t\t<div class=\"propertyInfoTitle stack\">Returns</div>\r\n  \t\t\t\t<div class=\"propertyInfo\">\r\n  \t\t\t\t<div class=\"subtle\">\r\n  \t\t\t\t\t\t<span class=\"lang-csharp\"><a class=\"xref\" href=\"system.fabric.health.applicationtypehealthpolicymap\" data-linktype=\"relative-path\">ApplicationTypeHealthPolicyMap</a></span>\r\n  \t\t\t\t</div>\r\n  \t\t\t\t<p>The application type health policy map with MaxPercentUnhealthyApplications per application type name.</p>\r\n  \t\t\t\t</div>\r\n  \t\r\n  \t\r\n  \t\r\n  \t\r\n  \t\r\n  \t\r\n  \t\t\t\t<h2 class=\"accented\">Remarks</h2>\r\n  \t\t\t<p>The application type health policy map can be used during cluster health evaluation to describe special application types. \n            By default, all applications are put into a pool and evaluated with . If one or more application types are special \n            and should be treated in a different way, they can be taken out of the global pool and evaluated against the percentages associated with their application type name in the map. \n            For example, in a cluster there are thousands of applications of different types, and a few control application instances of a special application type.\n            The control applications should never be in error. So users can specify global MaxPercentUnhealthyApplications to 20% to tolerate some failures, \n            but for the application type &quot;ControlApplicationType&quot; set the MaxPercentUnhealthyApplications to 0. \n            This way, if some of the many applications are unhealthy, but below the global unhealthy percentage, the cluster would be evaluated to Warning. \n            A warning health state does not impact cluster upgrade or other monitoring triggered by Error health state.\n            But even one control application in error would make cluster health error, which can rollback or prevent a cluster upgrade. &gt;\n            For the application types defined in the map, all application instances are taken out of the global pool of applications.\n            They are evaluated based on the total number of applications of the application type, using the specific MaxPercentUnhealthyApplications from the map.\n            All the rest of the applications remain in the global pool and are evaluated with MaxPercentUnhealthyApplications.To define entries for the specific application types in the cluster manifest, inside FabricSettings add entries\n            for parameters with name formed by prefix &quot;ApplicationTypeMaxPercentUnhealthyApplications-&quot; followed by application type name.If no policy is specified for an application type, the default MaxPercentUnhealthyApplications is used for evaluation.The application type health evaluation is done only when the cluster is configured with EnableApplicationTypeHealthEvaluation true.\n            The setting is disabled by default.</p>\n\r\n  \t\r\n  \t\r\n  \t</div>","outputRootRelativePath":"./","pageMetadata":"<meta name=\"ms.devlang\" content=\"csharp\">\r\n<meta name=\"author\" content=\"erickson-doug\">\r\n<meta name=\"ms.author\" content=\"douge\">\r\n<meta name=\"manager\" content=\"douge\">\r\n<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc1.json\">\r\n<meta name=\"apiPlatform\" content=\"dotnet\">\r\n<meta name=\"ms.topic\" content=\"reference\">\r\n<meta name=\"ms.date\" content=\"11/16/2016\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"azuredotnet\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"Azure\">\r\n<meta name=\"depot_name\" content=\"Azure.azuredotnet\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/Azure/azure-docs-sdk-dotnet/blob/master/docs-ref-from-xml/System.Fabric.Health.ClusterHealthPolicy.yml\">\r\n<meta name=\"APIName\" content=\"System.Fabric.Health.ClusterHealthPolicy.ApplicationTypeHealthPolicyMap\">\r\n<meta name=\"APILocation\" content=\"System.Fabric.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-04-01 03:20 AM\">\r\n<meta name=\"document_id\" content=\"790ad6df-3803-71b3-a080-438957c3fea4\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"toc_rel\" content=\"system.fabric.health/toc1.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.Fabric.Health.ClusterHealthPolicy.ApplicationTypeHealthPolicyMap*\">\r\n","rawMetadata":{"ms.devlang":"csharp","author":"erickson-doug","ms.author":"douge","manager":"douge","breadcrumb_path":"breadcrumb/toc.json","apiPlatform":"dotnet","_op_documentIdPathDepotMapping":{"./":{"folder_relative_path_in_docset":"api-index"},"breadcrumb/":{"folder_relative_path_in_docset":"breadcrumb"},"docs-ref-autogen/":{"folder_relative_path_in_docset":"docs-ref-autogen"},"docs-ref-manual/":{"folder_relative_path_in_docset":"docs-ref-manual"},"docs-ref-overwrite/":{"folder_relative_path_in_docset":"docs-ref-overwrite"},"scripts/":{"folder_relative_path_in_docset":"scripts"}},"ms.topic":"reference","ms.date":"11/16/2016","search.ms_sitename":"Docs","search.ms_docsetname":"azuredotnet","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet/api/","locale":"en-us","site_name":"Docs","search.ms_product":"Azure","_op_openToPublicContributors":false,"depot_name":"Azure.azuredotnet","_op_gitRefSkeletonCommitHistory":[],"original_ref_skeleton_git_url":"https://github.com/Azure/azure-docs-sdk-dotnet/blob/master/docs-ref-from-xml/System.Fabric.Health.ClusterHealthPolicy.yml","open_to_public_contributors":false,"api_name":["System.Fabric.Health.ClusterHealthPolicy.ApplicationTypeHealthPolicyMap"],"api_location":["System.Fabric.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.Fabric.Health.ClusterHealthPolicy.ApplicationTypeHealthPolicyMap","System::Fabric::Health::ClusterHealthPolicy::ApplicationTypeHealthPolicyMap"],"dev_langs":["csharp"],"updated_at":"2017-04-01 03:20 AM","document_id":"790ad6df-3803-71b3-a080-438957c3fea4","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"ApplicationTypeHealthPolicyMap property | Microsoft Docs","_op_ogTitle":"ApplicationTypeHealthPolicyMap property","toc_asset_id":"System.Fabric.Health/toc.json","toc_rel":"System.Fabric.Health/toc.json","content_git_url":"","source_url":"","ms.assetid":"System.Fabric.Health.ClusterHealthPolicy.ApplicationTypeHealthPolicyMap*","canonical_url":"https://docs.microsoft.com/en-us/dotnet/api/system.fabric.health.clusterhealthpolicy.applicationtypehealthpolicymap","_op_displayDate":"2016-11-16","_op_displayDate_source":"2016-11-16T00:00:00Z","_op_brand":"azure","_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet/api/system.fabric.health.clusterhealthpolicy.applicationtypehealthpolicymap","fileRelativePath":"System.Fabric.Health.ClusterHealthPolicy.ApplicationTypeHealthPolicyMap.html"},"themesRelativePathToOutputRoot":"_themes/"}