{"content":"\r\n  \r\n  <h1>\r\n    <span class=\"lang-csharp\">XmlElementEventHandler</span>\r\n      Delegate\r\n  </h1>\r\n  \r\n  <h2 class=\"hiddenAnchor\">Definition</h2>\r\n  \r\n  <div class=\"metadata\">\r\n  \r\n  \r\n  </div>\r\n  \r\n  <div class=\"summaryHolder\">\r\n  \t<div class=\"summary\">\r\n  \t\t<p>Represents the method that handles the <a class=\"xref\" href=\"system.xml.serialization.xmlserializer#System_Xml_Serialization_XmlSerializer_UnknownElement\" data-linktype=\"relative-path\">UnknownElement</a> event of an <a class=\"xref\" href=\"system.xml.serialization.xmlserializer\" data-linktype=\"relative-path\">XmlSerializer</a>.</p>\n\r\n  \t</div>\r\n  </div><nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n    <h3>In this Article</h3>\r\n  </nav>\t<pre class=\"wrap loading\"><code class=\"csharp lang-csharp\">public delegate void XmlElementEventHandler(object sender, XmlElementEventArgs e);</code></pre>\r\n  \r\n  \r\n  \r\n  \r\n  \t<dl class=\"attributeList stack\">\r\n  \t\t<dt>Inheritance</dt><dd>\r\n  \t\t<div class=\"pdlHolder\">\r\n  \t\t<div class=\"pdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a></span></div><div class=\"pdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.delegate\" data-linktype=\"relative-path\">Delegate</a></span></div><span class=\"lang-csharp\">XmlElementEventHandler</span>\r\n  \t\t</div>\r\n  \t\t</dd>\r\n  \t</dl>\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \t<h2 class=\"accented\">Examples</h2>\r\n  \t<p>The following example deserializes a class named <code>Group</code> from a file named UnknownElements.xml. Whenever an element is found in the file that has no corresponding member in the class, the <a class=\"xref\" href=\"system.xml.serialization.xmlserializer#System_Xml_Serialization_XmlSerializer_UnknownElement\" data-linktype=\"relative-path\">UnknownElement</a> event occurs. To try the example, paste the following XML code into a file named UnknownElements.xml.  </p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;  \n&lt;Group xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;  \n  &lt;GroupName&gt;MyGroup&lt;/GroupName&gt;  \n  &lt;GroupSize&gt;Large&lt;/GroupSize&gt;  \n  &lt;GroupNumber&gt;444&lt;/GroupNumber&gt;  \n  &lt;GroupBase&gt;West&lt;/GroupBase&gt;  \n&lt;/Group&gt;  \n</code></pre><pre><code class=\"lang-cs\" name=\"XmlSerializer.UnknownElement Example#1\">using System;\nusing System.IO;\nusing System.Xml.Serialization;\nusing System.Xml;\nusing System.Xml.Schema;\n\npublic class Group{\n   public string GroupName;\n}\n\npublic class Test{\n   static void Main(){\n      Test t = new Test();\n      // Deserialize the file containing unknown elements.\n      t.DeserializeObject(&quot;UnknownElements.xml&quot;);\n   }\n   private void Serializer_UnknownElement(object sender, XmlElementEventArgs e){\n      Console.WriteLine(&quot;Unknown Element&quot;);\n      Console.WriteLine(&quot;\\t&quot; + e.Element.Name + &quot; &quot; + e.Element.InnerXml);\n      Console.WriteLine(&quot;\\t LineNumber: &quot; + e.LineNumber);\n      Console.WriteLine(&quot;\\t LinePosition: &quot; + e.LinePosition);\n      \n      Group x  = (Group) e.ObjectBeingDeserialized;\n      Console.WriteLine (x.GroupName);\n      Console.WriteLine (sender.ToString());\n   }\n   private void DeserializeObject(string filename){\n      XmlSerializer ser = new XmlSerializer(typeof(Group));\n      // Add a delegate to handle unknown element events.\n      ser.UnknownElement+=new XmlElementEventHandler(Serializer_UnknownElement);\n      // A FileStream is needed to read the XML document.\n     FileStream fs = new FileStream(filename, FileMode.Open);\n     Group g = (Group) ser.Deserialize(fs);\n     fs.Close();\n   \t}\n}\n</code></pre><pre><code class=\"lang-cpp\" name=\"XmlSerializer.UnknownElement Example#1\">#using &lt;System.Xml.dll&gt;\n#using &lt;System.dll&gt;\n\nusing namespace System;\nusing namespace System::IO;\nusing namespace System::Xml::Serialization;\nusing namespace System::Xml;\nusing namespace System::Xml::Schema;\n\npublic ref class Group\n{\npublic:\n   String^ GroupName;\n};\n\npublic ref class Test\n{\nprivate:\n   void Serializer_UnknownElement( Object^ sender, XmlElementEventArgs^ e )\n   {\n      Console::WriteLine( &quot;Unknown Element&quot; );\n      Console::Write( &quot;\\t {0}&quot;, e-&gt;Element-&gt;Name );\n      Console::WriteLine( &quot; {0}&quot;, e-&gt;Element-&gt;InnerXml );\n      Console::WriteLine( &quot;\\t LineNumber: {0}&quot;, e-&gt;LineNumber );\n      Console::WriteLine( &quot;\\t LinePosition: {0}&quot;, e-&gt;LinePosition );\n      Group^ x = dynamic_cast&lt;Group^&gt;(e-&gt;ObjectBeingDeserialized);\n      Console::WriteLine( x-&gt;GroupName );\n      Console::WriteLine( sender );\n   }\n\npublic:\n   void DeserializeObject( String^ filename )\n   {\n      XmlSerializer^ ser = gcnew XmlSerializer( Group::typeid );\n\n      // Add a delegate to handle unknown element events.\n      ser-&gt;UnknownElement += gcnew XmlElementEventHandler( this, &amp;Test::Serializer_UnknownElement );\n\n      // A FileStream is needed to read the XML document.\n      FileStream^ fs = gcnew FileStream( filename,FileMode::Open );\n      Group^ g = dynamic_cast&lt;Group^&gt;(ser-&gt;Deserialize( fs ));\n      fs-&gt;Close();\n   }\n};\n\nint main()\n{\n   Test^ t = gcnew Test;\n\n   // Deserialize the file containing unknown elements.\n   t-&gt;DeserializeObject( &quot;UnknownElements.xml&quot; );\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"XmlSerializer.UnknownElement Example#1\">Imports System\nImports System.IO\nImports System.Xml.Serialization\nImports System.Xml\nImports System.Xml.Schema\nImports Microsoft.VisualBasic\n\nPublic Class Group\n   Public GroupName As String \nEnd Class\n\nPublic Class Test\n   Shared Sub Main()\n      Dim t As Test = new Test()\n      &#39; Deserialize the file containing unknown elements.\n      t.DeserializeObject(&quot;UnknownElements.xml&quot;)\n   End Sub\n\n   Private Sub Serializer_UnknownElement _\n   (sender As Object , e As XmlElementEventArgs)\n      Console.WriteLine(&quot;Unknown Element&quot;)\n      Console.WriteLine(ControlChars.Tab &amp; e.Element.Name + &quot; &quot; &amp; e.Element.InnerXml)\n      Console.WriteLine(ControlChars.Tab &amp; e.LineNumber &amp; &quot;:&quot;  &amp; e.LineNumber)\n      Console.WriteLine(ControlChars.Tab &amp; e.LinePosition &amp; &quot;:&quot;   &amp; e.LinePosition)\n      \n      Dim x As Group = CType( e.ObjectBeingDeserialized, Group)\n      Console.WriteLine (x.GroupName)\n      Console.WriteLine (sender.ToString())\n   End Sub\n   \n   Private Sub DeserializeObject(filename As String)\n      Dim ser As XmlSerializer = new XmlSerializer(GetType(Group))\n      &#39; Add a delegate to handle unknown element events.\n      AddHandler ser.UnknownElement, _\n      AddressOf Serializer_UnknownElement \n      &#39; A FileStream is needed to read the XML document.\n     Dim fs As FileStream  = new FileStream(filename, FileMode.Open)\n     Dim g  As Group = CType(ser.Deserialize(fs),Group)\n     fs.Close()\n   End Sub\nEnd Class\n</code></pre>\r\n  \r\n  \t<h2 class=\"accented\">Remarks</h2>\r\n  \t<p>When you create an XmlElementEventHandler delegate, you identify the method that handles the event. To associate the event with your event handler, add an instance of the delegate to the event. The event handler is called whenever the event occurs, unless you remove the delegate. For more information about event handler delegates, see <a href=\"http://msdn.microsoft.com/en-us/d98fd58b-fa4f-4598-8378-addf4355a115\" data-linktype=\"external\">NIB: Events and Delegates</a>.  </p>\n<p> The <a class=\"xref\" href=\"system.xml.serialization.xmlserializer#System_Xml_Serialization_XmlSerializer_UnknownElement\" data-linktype=\"relative-path\">UnknownElement</a> event occurs only when you call the <a class=\"xref\" href=\"system.xml.serialization.xmlserializer#System_Xml_Serialization_XmlSerializer_Deserialize_\" data-linktype=\"relative-path\">Deserialize</a> method.</p>\n\r\n  \r\n  \r\n  \r\n  \r\n  \r\n","outputRootRelativePath":"../","pageMetadata":"<meta name=\"author\" content=\"dotnet-bot\">\r\n<meta name=\"ms.author\" content=\"dotnetcontent\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"../toc2.json\">\r\n<meta name=\"apiPlatform\" content=\"dotnet\">\r\n<meta name=\"ms.topic\" content=\"managed-reference\">\r\n<meta name=\"ms.prod\" content=\".net\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/master/api/System.Xml.Serialization.XmlElementEventHandler.yml\">\r\n<meta name=\"APIName\" content=\"System.Xml.Serialization.XmlElementEventHandler\">\r\n<meta name=\"APIName\" content=\"System.Xml.Serialization.XmlElementEventHandler..ctor\">\r\n<meta name=\"APIName\" content=\"System.Xml.Serialization.XmlElementEventHandler.Invoke\">\r\n<meta name=\"APIName\" content=\"System.Xml.Serialization.XmlElementEventHandler.BeginInvoke\">\r\n<meta name=\"APIName\" content=\"System.Xml.Serialization.XmlElementEventHandler.EndInvoke\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-31 05:47 AM\">\r\n<meta name=\"document_id\" content=\"0ad9333a-34fe-2b7e-d5e2-1f8f2d1d1969\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Represents the method that handles the  event of an .\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/system.xml.serialization/toc2.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.Xml.Serialization.XmlElementEventHandler\">\r\n","rawMetadata":{"author":"dotnet-bot","ms.author":"dotnetcontent","manager":"wpickett","breadcrumb_path":"/dotnet/toc.json","apiPlatform":"dotnet","ms.topic":"managed-reference","ms.prod":".net","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitRefSkeletonCommitHistory":[],"original_ref_skeleton_git_url":"https://github.com/dotnet/docs-internal/blob/master/api/System.Xml.Serialization.XmlElementEventHandler.yml","open_to_public_contributors":false,"api_name":["System.Xml.Serialization.XmlElementEventHandler","System.Xml.Serialization.XmlElementEventHandler..ctor","System.Xml.Serialization.XmlElementEventHandler.Invoke","System.Xml.Serialization.XmlElementEventHandler.BeginInvoke","System.Xml.Serialization.XmlElementEventHandler.EndInvoke"],"api_location":[],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.Xml.Serialization.XmlElementEventHandler","System::Xml::Serialization::XmlElementEventHandler"],"dev_langs":["csharp"],"updated_at":"2017-03-31 05:47 AM","document_id":"0ad9333a-34fe-2b7e-d5e2-1f8f2d1d1969","content_git_url":"https://github.com/dotnet/docs-internal/blob/master/xml/System.Xml.Serialization/XmlElementEventHandler.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"XmlElementEventHandler delegate | Microsoft Docs","_op_ogTitle":"XmlElementEventHandler delegate","description":"Represents the method that handles the  event of an .\n","toc_asset_id":"api/_splitted/System.Xml.Serialization/toc.json","toc_rel":"_splitted/System.Xml.Serialization/toc.json","source_url":"","ms.assetid":"System.Xml.Serialization.XmlElementEventHandler","canonical_url":"https://docs.microsoft.com/en-us/dotnet/api/system.xml.serialization.xmlelementeventhandler","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet/api/system.xml.serialization.xmlelementeventhandler","fileRelativePath":"api/System.Xml.Serialization.XmlElementEventHandler.html"},"themesRelativePathToOutputRoot":"_themes/"}