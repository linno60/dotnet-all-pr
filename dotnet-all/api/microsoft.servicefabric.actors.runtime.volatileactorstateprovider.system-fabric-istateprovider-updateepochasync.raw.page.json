{"content":"\r\n  \r\n  \t<a id=\"Microsoft_ServiceFabric_Actors_Runtime_VolatileActorStateProvider_System_Fabric_IStateProvider_UpdateEpochAsync_System_Fabric_Epoch_System_Int64_System_Threading_CancellationToken_\"></a>\r\n  \r\n  <h1>\r\n    <span class=\"lang-csharp\">VolatileActorStateProvider.System.Fabric.IStateProvider.UpdateEpochAsync</span>\r\n      Method\r\n  </h1>\r\n  \r\n  <h2 class=\"hiddenAnchor\">Definition</h2>\r\n  \r\n  <div class=\"metadata\">\r\n  \t\t<dl class=\"attributeList\">\r\n  \t\t\t<dt>Namespace:</dt>\t\r\n  \t\t\t\t<dd>\r\n  \t\t\t\t\t\t<span class=\"lang-csharp\"><a class=\"xref\" href=\"microsoft.servicefabric.actors.runtime\" data-linktype=\"relative-path\">Microsoft.ServiceFabric.Actors.Runtime</a></span>\r\n  \t\t\t\t</dd>\r\n  \t\t</dl>\r\n  \r\n  \t\t<dl class=\"attributeList\">\r\n  \t\t\t<dt>Assembly:</dt><dd>Microsoft.ServiceFabric.Actors.dll</dd>\r\n  \t\t</dl>\r\n  \r\n  </div>\r\n  \r\n  \r\n  <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n    <h3>In this Article</h3>\r\n  </nav>\r\n  \r\n  \t\r\n  \t<div data-moniker=\" servicefabricactors-2.5.216\">\r\n  \t\t<div class=\"summaryHolder\">\r\n  \t\t\t<div class=\"summary\">\r\n  \t\t\t\t<p>Indicates to a replica that the configuration of a replica set has changed due to a change or attempted change to the Primary replica. \n            The change occurs due to failure or load balancing of the previous Primary replica. Epoch changes act as a barrier by segmenting operations \n            into the exact configuration periods in which they were sent by a specific Primary replica.</p>\r\n  \t\t\t</div>\r\n  \t\t</div>\r\n  \t\r\n  \t\t\t<pre class=\"wrap loading\"><code class=\"csharp lang-csharp\" dir=\"ltr\">System.Threading.Tasks.Task IStateProvider.UpdateEpochAsync (System.Fabric.Epoch epoch, long previousEpochLastSequenceNumber, System.Threading.CancellationToken cancellationToken);</code></pre>\r\n  \t\r\n  \t\r\n  \t\t\t\t<div class=\"propertyInfoTitle stack\">Parameters</div>\r\n  \t\t\t\t<div class=\"propertyInfo\">\r\n  \t\t\t\t<dl class=\"parameterList\">\r\n  \t\t\t\t\t<dt>epoch</dt>\r\n  \t\t\t\t\t<dd>\r\n  \t\t\t\t\t\t\t<span class=\"lang-csharp\"><a class=\"xref\" href=\"system.fabric.epoch\" data-linktype=\"relative-path\">Epoch</a></span>\r\n  \t\t\t\t\t</dd>\r\n  \t\t\t\t</dl>\r\n  \t\t\t\t<p>The new <a class=\"xref\" href=\"system.fabric.epoch\" data-linktype=\"relative-path\">Epoch</a>.</p>\r\n  \t\t\t\t</div>\r\n  \t\t\t\t<div class=\"propertyInfo stack\">\r\n  \t\t\t\t<dl class=\"parameterList\">\r\n  \t\t\t\t\t<dt>previousEpochLastSequenceNumber</dt>\r\n  \t\t\t\t\t<dd>\r\n  \t\t\t\t\t\t\t<span class=\"lang-csharp\"><a class=\"xref\" href=\"https://msdn.microsoft.com/en-us/library/system.int64(v=vs.110).aspx\" data-linktype=\"external\">Int64</a></span>\r\n  \t\t\t\t\t</dd>\r\n  \t\t\t\t</dl>\r\n  \t\t\t\t<p> The maximum sequence number (LSN) that should have been observed in the previous epoch.</p>\r\n  \t\t\t\t</div>\r\n  \t\t\t\t<div class=\"propertyInfo stack\">\r\n  \t\t\t\t<dl class=\"parameterList\">\r\n  \t\t\t\t\t<dt>cancellationToken</dt>\r\n  \t\t\t\t\t<dd>\r\n  \t\t\t\t\t\t\t<span class=\"lang-csharp\"><a class=\"xref\" href=\"https://msdn.microsoft.com/en-us/library/system.threading.cancellationtoken(v=vs.110).aspx\" data-linktype=\"external\">CancellationToken</a></span>\r\n  \t\t\t\t\t</dd>\r\n  \t\t\t\t</dl>\r\n  \t\t\t\t<p>The <a class=\"xref\" href=\"https://msdn.microsoft.com/en-us/library/system.threading.cancellationtoken(v=vs.110).aspx\" data-linktype=\"external\">CancellationToken</a> object that the operation is observing. It can be used to send a notification \n            that the operation should be canceled. Note that cancellation is advisory and that the operation might still be completed even if it is canceled.</p>\r\n  \t\t\t\t</div>\r\n  \t\r\n  \t\t\t\t<div class=\"propertyInfoTitle stack\">Returns</div>\r\n  \t\t\t\t<div class=\"propertyInfo\">\r\n  \t\t\t\t<div class=\"subtle\">\r\n  \t\t\t\t\t\t<span class=\"lang-csharp\"><a class=\"xref\" href=\"https://msdn.microsoft.com/en-us/library/system.threading.tasks.task(v=vs.110).aspx\" data-linktype=\"external\">Task</a></span>\r\n  \t\t\t\t</div>\r\n  \t\t\t\t<p>Returns <a class=\"xref\" href=\"https://msdn.microsoft.com/en-us/library/system.threading.tasks.task(v=vs.110).aspx\" data-linktype=\"external\">Task</a>.</p>\r\n  \t\t\t\t</div>\r\n  \t\r\n  \t\r\n  \t\r\n  \t\r\n  \t\r\n  \t\r\n  \t\t\t\t<h2 class=\"accented\">Remarks</h2>\r\n  \t\t\t<p>This method is called because the Primary replica of the replica set has changed, or a change was attempted. \n            Secondary replicas receive this method either when they are about to become the new Primary replica, or, if they are not the new Primary replica, \n            they receive it when they attempt to get the first operation from the new Primary replica from the replication stream. \n            Primary replicas might occasionally receive this method if there is an attempt to swap the Primary replica, which fails.The information in the<br>            method enables the service to maintain a progress vector, which is a list of each epoch that the replica has received, and the maximum LSN that they contained. The progress vector data along with the current applied maximum LSN is useful for a Secondary replica to send during the copy operation  to describe how far the operation has progressed. Comparing progress vectors that are received from Secondary replicas during the copy operation enables Primary replicas to determine whether the Secondary replica is up-to-date, what state must be sent to the Secondary replica, and whether the Secondary replica has made false progress. False progress means that an LSN in a previous epoch was greater than the LSN that the Primary replica receives.</p>\n\r\n  \t\r\n  \t\r\n  \t</div>","outputRootRelativePath":"./","pageMetadata":"<meta name=\"ms.devlang\" content=\"csharp\">\r\n<meta name=\"author\" content=\"erickson-doug\">\r\n<meta name=\"ms.author\" content=\"douge\">\r\n<meta name=\"manager\" content=\"douge\">\r\n<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc1.json\">\r\n<meta name=\"apiPlatform\" content=\"dotnet\">\r\n<meta name=\"ms.topic\" content=\"reference\">\r\n<meta name=\"ms.date\" content=\"11/16/2016\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"azuredotnet\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"Azure\">\r\n<meta name=\"depot_name\" content=\"Azure.azuredotnet\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/Azure/azure-docs-sdk-dotnet/blob/master/docs-ref-from-xml/Microsoft.ServiceFabric.Actors.Runtime.VolatileActorStateProvider.yml\">\r\n<meta name=\"APIName\" content=\"Microsoft.ServiceFabric.Actors.Runtime.VolatileActorStateProvider.IStateProvider.UpdateEpochAsync\">\r\n<meta name=\"APILocation\" content=\"Microsoft.ServiceFabric.Actors.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-04-01 03:07 AM\">\r\n<meta name=\"document_id\" content=\"cbc0ee91-6c71-52d7-145d-d330f7cd45bd\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"toc_rel\" content=\"toc1.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"Microsoft.ServiceFabric.Actors.Runtime.VolatileActorStateProvider.System#Fabric#IStateProvider#UpdateEpochAsync*\">\r\n","rawMetadata":{"ms.devlang":"csharp","author":"erickson-doug","ms.author":"douge","manager":"douge","breadcrumb_path":"breadcrumb/toc.json","apiPlatform":"dotnet","_op_documentIdPathDepotMapping":{"./":{"folder_relative_path_in_docset":"api-index"},"breadcrumb/":{"folder_relative_path_in_docset":"breadcrumb"},"docs-ref-autogen/":{"folder_relative_path_in_docset":"docs-ref-autogen"},"docs-ref-manual/":{"folder_relative_path_in_docset":"docs-ref-manual"},"docs-ref-overwrite/":{"folder_relative_path_in_docset":"docs-ref-overwrite"},"scripts/":{"folder_relative_path_in_docset":"scripts"}},"ms.topic":"reference","ms.date":"11/16/2016","search.ms_sitename":"Docs","search.ms_docsetname":"azuredotnet","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet/api/","locale":"en-us","site_name":"Docs","search.ms_product":"Azure","_op_openToPublicContributors":false,"depot_name":"Azure.azuredotnet","_op_gitRefSkeletonCommitHistory":[],"original_ref_skeleton_git_url":"https://github.com/Azure/azure-docs-sdk-dotnet/blob/master/docs-ref-from-xml/Microsoft.ServiceFabric.Actors.Runtime.VolatileActorStateProvider.yml","open_to_public_contributors":false,"api_name":["Microsoft.ServiceFabric.Actors.Runtime.VolatileActorStateProvider.IStateProvider.UpdateEpochAsync"],"api_location":["Microsoft.ServiceFabric.Actors.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["Microsoft.ServiceFabric.Actors.Runtime.VolatileActorStateProvider.System#Fabric#IStateProvider#UpdateEpochAsync","Microsoft::ServiceFabric::Actors::Runtime::VolatileActorStateProvider::System#Fabric#IStateProvider#UpdateEpochAsync"],"dev_langs":["csharp"],"updated_at":"2017-04-01 03:07 AM","document_id":"cbc0ee91-6c71-52d7-145d-d330f7cd45bd","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"System.Fabric.IStateProvider.UpdateEpochAsync method | Microsoft Docs","_op_ogTitle":"System.Fabric.IStateProvider.UpdateEpochAsync method","toc_asset_id":"toc.json","toc_rel":"toc.json","content_git_url":"","source_url":"","ms.assetid":"Microsoft.ServiceFabric.Actors.Runtime.VolatileActorStateProvider.System#Fabric#IStateProvider#UpdateEpochAsync*","canonical_url":"https://docs.microsoft.com/en-us/dotnet/api/microsoft.servicefabric.actors.runtime.volatileactorstateprovider.system-fabric-istateprovider-updateepochasync","_op_displayDate":"2016-11-16","_op_displayDate_source":"2016-11-16T00:00:00Z","_op_brand":"azure","_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet/api/microsoft.servicefabric.actors.runtime.volatileactorstateprovider.system-fabric-istateprovider-updateepochasync","fileRelativePath":"Microsoft.ServiceFabric.Actors.Runtime.VolatileActorStateProvider.System-Fabric-IStateProvider-UpdateEpochAsync.html"},"themesRelativePathToOutputRoot":"_themes/"}