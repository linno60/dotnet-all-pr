{"content":"\r\n  \r\n  <h1>\r\n    <span class=\"lang-csharp\">DownloadDataCompletedEventHandler</span>\r\n      Delegate\r\n  </h1>\r\n  \r\n  <h2 class=\"hiddenAnchor\">Definition</h2>\r\n  \r\n  <div class=\"metadata\">\r\n  \r\n  \r\n  </div>\r\n  \r\n  <div class=\"summaryHolder\">\r\n  \t<div class=\"summary\">\r\n  \t\t<p>Represents the method that will handle the <a class=\"xref\" href=\"system.net.webclient#System_Net_WebClient_DownloadDataCompleted\" data-linktype=\"relative-path\">DownloadDataCompleted</a> event of a <a class=\"xref\" href=\"system.net.webclient\" data-linktype=\"relative-path\">WebClient</a>.</p>\n\r\n  \t</div>\r\n  </div><nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n    <h3>In this Article</h3>\r\n  </nav>\t<pre class=\"wrap loading\"><code class=\"csharp lang-csharp\">public delegate void DownloadDataCompletedEventHandler(object sender, DownloadDataCompletedEventArgs e);</code></pre>\r\n  \r\n  \r\n  \r\n  \r\n  \t<dl class=\"attributeList stack\">\r\n  \t\t<dt>Inheritance</dt><dd>\r\n  \t\t<div class=\"pdlHolder\">\r\n  \t\t<div class=\"pdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a></span></div><div class=\"pdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.delegate\" data-linktype=\"relative-path\">Delegate</a></span></div><span class=\"lang-csharp\">DownloadDataCompletedEventHandler</span>\r\n  \t\t</div>\r\n  \t\t</dd>\r\n  \t</dl>\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \t<h2 class=\"accented\">Examples</h2>\r\n  \t<p>The following code example demonstrates downloading a user-specified resource.  </p>\n<pre><code class=\"lang-cpp\" name=\"NCLWebClientAsync#21\">// Sample call : DownLoadDataInBackground (&quot;http://www.contoso.com/GameScores.html&quot;);\nvoid DownloadDataInBackground( String^ address )\n{\n   System::Threading::AutoResetEvent^ waiter = gcnew System::Threading::AutoResetEvent( false );\n   WebClient^ client = gcnew WebClient;\n   Uri ^uri = gcnew Uri(address);\n   \n   // Specify that the DownloadDataCallback method gets called\n   // when the download completes.\n   client-&gt;DownloadDataCompleted += gcnew DownloadDataCompletedEventHandler( DownloadDataCallback );\n   client-&gt;DownloadDataAsync( uri, waiter );\n   \n   // Block the main application thread. Real applications\n   // can perform other tasks while waiting for the download to complete.\n   waiter-&gt;WaitOne();\n}\n\n</code></pre><pre><code class=\"lang-cs\" name=\"NCLWebClientAsync#21\">// Sample call : DownLoadDataInBackground (&quot;http://www.contoso.com/GameScores.html&quot;);\npublic static void DownloadDataInBackground (string address)\n{\n    System.Threading.AutoResetEvent waiter = new System.Threading.AutoResetEvent (false);\n    WebClient client = new WebClient ();\n    Uri uri = new Uri(address);\n\n    // Specify that the DownloadDataCallback method gets called\n    // when the download completes.\n    client.DownloadDataCompleted += new DownloadDataCompletedEventHandler (DownloadDataCallback);\n    client.DownloadDataAsync (uri, waiter);\n\n    // Block the main application thread. Real applications\n    // can perform other tasks while waiting for the download to complete.\n    waiter.WaitOne ();\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"NCLWebClientAsync#21\">&#39;  Sample call : DownLoadDataInBackground (&quot;http:&#39; www.contoso.com/GameScores.html&quot;)\nPublic Shared Sub DownloadDataInBackground(ByVal address As String)\n\n\tDim waiter As System.Threading.AutoResetEvent = New System.Threading.AutoResetEvent(False)\n\tDim client As WebClient = New WebClient()\n\n\t&#39;  Specify that the DownloadDataCallback method gets called\n\t&#39;  when the download completes.\n\tAddHandler client.DownloadDataCompleted, AddressOf DownloadDataCallback\n                      Dim uri as Uri = New Uri(address)\n\tclient.DownloadDataAsync(uri, waiter)\n\n\t&#39;  Block the main application thread. Real applications\n\t&#39;  can perform other tasks while waiting for the download to complete.\n\twaiter.WaitOne()\nEnd Sub\n</code></pre><p> The following method is called when the download completes.  </p>\n<pre><code class=\"lang-cpp\" name=\"NCLWebClientAsync#22\">void DownloadDataCallback( Object^ /*sender*/, DownloadDataCompletedEventArgs^ e )\n{\n   System::Threading::AutoResetEvent^ waiter = dynamic_cast&lt;System::Threading::AutoResetEvent^&gt;(e-&gt;UserState);\n   try\n   {\n      \n      // If the request was not canceled and did not throw\n      // an exception, display the resource.\n      if (  !e-&gt;Cancelled &amp;&amp; e-&gt;Error == nullptr )\n      {\n         array&lt;Byte&gt;^data = dynamic_cast&lt;array&lt;Byte&gt;^&gt;(e-&gt;Result);\n         String^ textData = System::Text::Encoding::UTF8-&gt;GetString( data );\n         Console::WriteLine( textData );\n      }\n   }\n   finally\n   {\n      \n      // Let the main application thread resume.\n      waiter-&gt;Set();\n   }\n\n}\n\n</code></pre><pre><code class=\"lang-cs\" name=\"NCLWebClientAsync#22\">private static void DownloadDataCallback (Object sender, DownloadDataCompletedEventArgs e)\n{\n    System.Threading.AutoResetEvent waiter = (System.Threading.AutoResetEvent)e.UserState;\n\n    try\n    {\n        // If the request was not canceled and did not throw\n        // an exception, display the resource.\n        if (!e.Cancelled &amp;&amp; e.Error == null)\n        {\n            byte[] data = (byte[])e.Result;\n            string textData = System.Text.Encoding.UTF8.GetString (data);\n\n            Console.WriteLine (textData);\n        }\n    }\n    finally\n    {\n        // Let the main application thread resume.\n        waiter.Set ();\n    }\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"NCLWebClientAsync#22\">Private Shared Sub DownloadDataCallback(ByVal sender As Object, ByVal e As DownloadDataCompletedEventArgs)\n\n    Dim waiter As System.Threading.AutoResetEvent = CType(e.UserState, System.Threading.AutoResetEvent)\n\n    Try\n\n        &#39;  If the request was not canceled and did not throw\n        &#39;  an exception, display the resource.\n        If e.Cancelled = False AndAlso e.Error Is Nothing Then\n\n            Dim data() As Byte = CType(e.Result, Byte())\n            Dim textData As String = System.Text.Encoding.UTF8.GetString(data)\n\n            Console.WriteLine(textData)\n        End If\n    Finally\n\n        &#39;  Let the main application thread resume.\n        waiter.Set()\n    End Try\nEnd Sub\n</code></pre>\r\n  \r\n  \t<h2 class=\"accented\">Remarks</h2>\r\n  \t<p>When you create a DownloadDataCompletedEventHandler delegate, you identify the method that will handle the event. To associate the event with your event handler, add an instance of the delegate to the event. The event handler is called whenever the event occurs, unless you remove the delegate. For more information about event handler delegates, see <a href=\"http://msdn.microsoft.com/en-us/d98fd58b-fa4f-4598-8378-addf4355a115\" data-linktype=\"external\">NIB: Events and Delegates</a>.</p>\n\r\n  \r\n  \r\n  \r\n  \r\n  \r\n","outputRootRelativePath":"../","pageMetadata":"<meta name=\"author\" content=\"dotnet-bot\">\r\n<meta name=\"ms.author\" content=\"dotnetcontent\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"../toc2.json\">\r\n<meta name=\"apiPlatform\" content=\"dotnet\">\r\n<meta name=\"ms.topic\" content=\"managed-reference\">\r\n<meta name=\"ms.prod\" content=\".net\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/master/api/System.Net.DownloadDataCompletedEventHandler.yml\">\r\n<meta name=\"APIName\" content=\"System.Net.DownloadDataCompletedEventHandler\">\r\n<meta name=\"APIName\" content=\"System.Net.DownloadDataCompletedEventHandler..ctor\">\r\n<meta name=\"APIName\" content=\"System.Net.DownloadDataCompletedEventHandler.Invoke\">\r\n<meta name=\"APIName\" content=\"System.Net.DownloadDataCompletedEventHandler.BeginInvoke\">\r\n<meta name=\"APIName\" content=\"System.Net.DownloadDataCompletedEventHandler.EndInvoke\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-31 05:47 AM\">\r\n<meta name=\"document_id\" content=\"6c53d308-1d50-843e-cbf3-0ff098760b41\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Represents the method that will handle the  event of a .\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/system.net/toc2.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.Net.DownloadDataCompletedEventHandler\">\r\n","rawMetadata":{"author":"dotnet-bot","ms.author":"dotnetcontent","manager":"wpickett","breadcrumb_path":"/dotnet/toc.json","apiPlatform":"dotnet","ms.topic":"managed-reference","ms.prod":".net","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitRefSkeletonCommitHistory":[],"original_ref_skeleton_git_url":"https://github.com/dotnet/docs-internal/blob/master/api/System.Net.DownloadDataCompletedEventHandler.yml","open_to_public_contributors":false,"api_name":["System.Net.DownloadDataCompletedEventHandler","System.Net.DownloadDataCompletedEventHandler..ctor","System.Net.DownloadDataCompletedEventHandler.Invoke","System.Net.DownloadDataCompletedEventHandler.BeginInvoke","System.Net.DownloadDataCompletedEventHandler.EndInvoke"],"api_location":[],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.Net.DownloadDataCompletedEventHandler","System::Net::DownloadDataCompletedEventHandler"],"dev_langs":["csharp"],"updated_at":"2017-03-31 05:47 AM","document_id":"6c53d308-1d50-843e-cbf3-0ff098760b41","content_git_url":"https://github.com/dotnet/docs-internal/blob/master/xml/System.Net/DownloadDataCompletedEventHandler.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"DownloadDataCompletedEventHandler delegate | Microsoft Docs","_op_ogTitle":"DownloadDataCompletedEventHandler delegate","description":"Represents the method that will handle the  event of a .\n","toc_asset_id":"api/_splitted/System.Net/toc.json","toc_rel":"_splitted/System.Net/toc.json","source_url":"","ms.assetid":"System.Net.DownloadDataCompletedEventHandler","canonical_url":"https://docs.microsoft.com/en-us/dotnet/api/system.net.downloaddatacompletedeventhandler","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet/api/system.net.downloaddatacompletedeventhandler","fileRelativePath":"api/System.Net.DownloadDataCompletedEventHandler.html"},"themesRelativePathToOutputRoot":"_themes/"}