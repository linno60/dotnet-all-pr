{"content":"\r\n  \r\n  <h1>\r\n    <span class=\"lang-csharp\">MachineKeySessionSecurityTokenHandler</span>\r\n    \t\t\t\tClass\r\n  </h1>\r\n  \r\n  <h2 class=\"hiddenAnchor\">Definition</h2>\r\n  \r\n  <div class=\"metadata\">\r\n  \r\n  \r\n  </div>\r\n  \r\n  <div class=\"summaryHolder\">\r\n  \t<div class=\"summary\">\r\n  \t\t<p>Processes session tokens by using signing and encryption keys specified in the ASP.NET <code>&lt;machineKey&gt;</code> element in a configuration file.</p>\n\r\n  \t</div>\r\n  </div><nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n    <h3>In this Article</h3>\r\n  </nav>\t<pre class=\"wrap loading\"><code class=\"csharp lang-csharp\">public class MachineKeySessionSecurityTokenHandler : System.IdentityModel.Tokens.SessionSecurityTokenHandler</code></pre>\r\n  \r\n  \r\n  \r\n  \r\n  \t<dl class=\"attributeList stack\">\r\n  \t\t<dt>Inheritance</dt><dd>\r\n  \t\t<div class=\"pdlHolder\">\r\n  \t\t<div class=\"pdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a></span></div><div class=\"pdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler\" data-linktype=\"relative-path\">SecurityTokenHandler</a></span></div><div class=\"pdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler\" data-linktype=\"relative-path\">SessionSecurityTokenHandler</a></span></div><span class=\"lang-csharp\">MachineKeySessionSecurityTokenHandler</span>\r\n  \t\t</div>\r\n  \t\t</dd>\r\n  \t</dl>\r\n  \r\n  \r\n  \r\n  \r\n  \t<h3 class=\"accented\">Inherited Members</h3>\r\n  \t<h4 class=\"accented\"></h4>\r\n  \t<div class=\"cdlHolder\">\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler#System_IdentityModel_Tokens_SecurityTokenHandler_CanReadKeyIdentifierClause_System_Xml_XmlReader_\" data-linktype=\"relative-path\">CanReadKeyIdentifierClause(XmlReader)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler#System_IdentityModel_Tokens_SecurityTokenHandler_CanReadToken_System_String_\" data-linktype=\"relative-path\">CanReadToken(String)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler#System_IdentityModel_Tokens_SecurityTokenHandler_CanWriteKeyIdentifierClause_System_IdentityModel_Tokens_SecurityKeyIdentifierClause_\" data-linktype=\"relative-path\">CanWriteKeyIdentifierClause(SecurityKeyIdentifierClause)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler#System_IdentityModel_Tokens_SecurityTokenHandler_Configuration\" data-linktype=\"relative-path\">Configuration</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler#System_IdentityModel_Tokens_SecurityTokenHandler_ContainingCollection\" data-linktype=\"relative-path\">ContainingCollection</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler#System_IdentityModel_Tokens_SecurityTokenHandler_CreateSecurityTokenReference_System_IdentityModel_Tokens_SecurityToken_System_Boolean_\" data-linktype=\"relative-path\">CreateSecurityTokenReference(SecurityToken, Boolean)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler#System_IdentityModel_Tokens_SecurityTokenHandler_DetectReplayedToken_System_IdentityModel_Tokens_SecurityToken_\" data-linktype=\"relative-path\">DetectReplayedToken(SecurityToken)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler#System_IdentityModel_Tokens_SecurityTokenHandler_ReadKeyIdentifierClause_System_Xml_XmlReader_\" data-linktype=\"relative-path\">ReadKeyIdentifierClause(XmlReader)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler#System_IdentityModel_Tokens_SecurityTokenHandler_ReadToken_System_String_\" data-linktype=\"relative-path\">ReadToken(String)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler#System_IdentityModel_Tokens_SecurityTokenHandler_TraceTokenValidationFailure_System_IdentityModel_Tokens_SecurityToken_System_String_\" data-linktype=\"relative-path\">TraceTokenValidationFailure(SecurityToken, String)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler#System_IdentityModel_Tokens_SecurityTokenHandler_TraceTokenValidationSuccess_System_IdentityModel_Tokens_SecurityToken_\" data-linktype=\"relative-path\">TraceTokenValidationSuccess(SecurityToken)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler#System_IdentityModel_Tokens_SecurityTokenHandler_WriteKeyIdentifierClause_System_Xml_XmlWriter_System_IdentityModel_Tokens_SecurityKeyIdentifierClause_\" data-linktype=\"relative-path\">WriteKeyIdentifierClause(XmlWriter, SecurityKeyIdentifierClause)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenhandler#System_IdentityModel_Tokens_SecurityTokenHandler_WriteToken_System_IdentityModel_Tokens_SecurityToken_\" data-linktype=\"relative-path\">WriteToken(SecurityToken)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_ApplyTransforms_System_Byte___System_Boolean_\" data-linktype=\"relative-path\">ApplyTransforms(Byte[], Boolean)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_CanReadToken_System_Xml_XmlReader_\" data-linktype=\"relative-path\">CanReadToken(XmlReader)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_CanValidateToken\" data-linktype=\"relative-path\">CanValidateToken</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_CanWriteToken\" data-linktype=\"relative-path\">CanWriteToken</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_CookieElementName\" data-linktype=\"relative-path\">CookieElementName</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_CookieNamespace\" data-linktype=\"relative-path\">CookieNamespace</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_CreateSessionSecurityToken_System_Security_Claims_ClaimsPrincipal_System_String_System_String_System_DateTime_System_DateTime_\" data-linktype=\"relative-path\">CreateSessionSecurityToken(ClaimsPrincipal, String, String, DateTime, DateTime)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_CreateToken_System_IdentityModel_Tokens_SecurityTokenDescriptor_\" data-linktype=\"relative-path\">CreateToken(SecurityTokenDescriptor)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_DefaultCookieTransforms\" data-linktype=\"relative-path\">DefaultCookieTransforms</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_DefaultLifetime\" data-linktype=\"relative-path\">DefaultLifetime</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_DefaultTokenLifetime\" data-linktype=\"relative-path\">DefaultTokenLifetime</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_GetTokenTypeIdentifiers\" data-linktype=\"relative-path\">GetTokenTypeIdentifiers()</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_LoadCustomConfiguration_System_Xml_XmlNodeList_\" data-linktype=\"relative-path\">LoadCustomConfiguration(XmlNodeList)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_ReadToken_System_Byte___System_IdentityModel_Selectors_SecurityTokenResolver_\" data-linktype=\"relative-path\">ReadToken(Byte[], SecurityTokenResolver)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_ReadToken_System_Xml_XmlReader_\" data-linktype=\"relative-path\">ReadToken(XmlReader)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_ReadToken_System_Xml_XmlReader_System_IdentityModel_Selectors_SecurityTokenResolver_\" data-linktype=\"relative-path\">ReadToken(XmlReader, SecurityTokenResolver)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_SetTransforms_System_Collections_Generic_IEnumerable_System_IdentityModel_CookieTransform__\" data-linktype=\"relative-path\">SetTransforms(IEnumerable&lt;CookieTransform&gt;)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_TokenLifetime\" data-linktype=\"relative-path\">TokenLifetime</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_TokenType\" data-linktype=\"relative-path\">TokenType</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_Transforms\" data-linktype=\"relative-path\">Transforms</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_ValidateSession_System_IdentityModel_Tokens_SessionSecurityToken_\" data-linktype=\"relative-path\">ValidateSession(SessionSecurityToken)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_ValidateToken_System_IdentityModel_Tokens_SecurityToken_\" data-linktype=\"relative-path\">ValidateToken(SecurityToken)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_ValidateToken_System_IdentityModel_Tokens_SessionSecurityToken_System_String_\" data-linktype=\"relative-path\">ValidateToken(SessionSecurityToken, String)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_WriteToken_System_IdentityModel_Tokens_SessionSecurityToken_\" data-linktype=\"relative-path\">WriteToken(SessionSecurityToken)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler#System_IdentityModel_Tokens_SessionSecurityTokenHandler_WriteToken_System_Xml_XmlWriter_System_IdentityModel_Tokens_SecurityToken_\" data-linktype=\"relative-path\">WriteToken(XmlWriter, SecurityToken)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_\" data-linktype=\"relative-path\">Equals(Object)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_System_Object_\" data-linktype=\"relative-path\">Equals(Object, Object)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_GetHashCode\" data-linktype=\"relative-path\">GetHashCode()</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_GetType\" data-linktype=\"relative-path\">GetType()</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_MemberwiseClone\" data-linktype=\"relative-path\">MemberwiseClone()</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_ReferenceEquals_System_Object_System_Object_\" data-linktype=\"relative-path\">ReferenceEquals(Object, Object)</a></span></div>\r\n  \t\t\t<div class=\"cdl\"><span class=\"lang-csharp\"><a class=\"xref\" href=\"system.object#System_Object_ToString\" data-linktype=\"relative-path\">ToString()</a></span></div>\r\n  \t</div>\r\n  \r\n  \t<h2 class=\"accented\">Examples</h2>\r\n  \t<p>The following XML shows how to use the ASP.NET <code>&lt;machineKey&gt;</code> element in configuration to explicitly specify signing and encryption keys. The <code>&lt;machineKey&gt;</code> element is specified under the <code>&lt;system.web&gt;</code> element in a configuration file.  </p>\n<pre><code class=\"lang-xml\">&lt;machineKey compatibilityMode=&quot;Framework45&quot; decryptionKey=&quot;CC510D … 8925E6&quot; validationKey=&quot;BEAC8 … 6A4B1DE&quot; /&gt;  \n</code></pre><p> The following XML shows how to add the MachineKeySessionSecurityTokenHandler to a token handler collection. The default <a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler\" data-linktype=\"relative-path\">SessionSecurityTokenHandler</a> is first removed from the collection. Token handlers are configured under the <a href=\"../Topic/%3CsecurityTokenHandlers%3E.md\" data-linktype=\"relative-path\">&amp;lt;securityTokenHandlers&amp;gt;</a> element.  </p>\n<pre><code class=\"lang-xml\">&lt;securityTokenHandlers&gt;  \n  &lt;remove type=&quot;System.IdentityModel.Tokens.SessionSecurityTokenHandler, System.IdentityModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; /&gt;  \n  &lt;add type=&quot;System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; /&gt;  \n&lt;/securityTokenHandlers&gt;  \n</code></pre>\r\n  \r\n  \t<h2 class=\"accented\">Remarks</h2>\r\n  \t<p>By default, the <a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler\" data-linktype=\"relative-path\">SessionSecurityTokenHandler</a> class uses the <a class=\"xref\" href=\"system.identitymodel.protecteddatacookietransform\" data-linktype=\"relative-path\">ProtectedDataCookieTransform</a> class, which uses the Data Protection API (DPAPI), to protect the session token. The DPAPI provides protection by using the user or machine credentials and stores the key data in the user profile. This means that a session token signed and encrypted on one computer cannot be validated or decrypted on a different computer.  </p>\n<p> By contrast, the MachineKeySessionSecurityTokenHandler class uses the <a class=\"xref\" href=\"system.identitymodel.services.machinekeytransform\" data-linktype=\"relative-path\">MachineKeyTransform</a> class, which protects the session cookie data by using the cryptographic material specified in the <code>&lt;machineKey&gt;</code> element in the configuration file. This means that the same keys (and session tokens) can be used across multiple computers. This is particularly important when an application is deployed in a web farm. For more information about how to use Windows Identity Foundation to protect applications that are deployed in a web farm, see <a href=\"../topic/wif%20and%20web%20farms\" data-linktype=\"relative-path\">WIF and Web Farms</a>.  </p>\n<p> Configure the application to use the MachineKeySessionSecurityTokenHandler by adding it to the token handler collection. You must first remove the <a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler\" data-linktype=\"relative-path\">SessionSecurityTokenHandler</a> (or any handler derived from the <a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler\" data-linktype=\"relative-path\">SessionSecurityTokenHandler</a> class) from the token handler collection if such a handler is present. This is because MachineKeySessionSecurityTokenHandler derives from <a class=\"xref\" href=\"system.identitymodel.tokens.sessionsecuritytokenhandler\" data-linktype=\"relative-path\">SessionSecurityTokenHandler</a> and a token handler collection cannot contain multiple handlers of any given type.</p>\n\r\n  \r\n  \r\n  \t\t<section>\r\n  \t\t\t<h2 class=\"accented \">Constructors\r\n  \t\t</h2>\r\n  \t\t\r\n  \t\t\t\t\t<div data-moniker=\" netframework-4.5.1 netframework-4.5.2 netframework-4.5 netframework-4.6.1 netframework-4.6.2 netframework-4.6\">\r\n  \t\t\r\n  \t\t\t\t\t<a id=\"System_IdentityModel_Services_Tokens_MachineKeySessionSecurityTokenHandler__ctor_\"></a>\r\n  \t\t\r\n  \t\t\t\t<div class=\"memberNameHolder\" id=\"System_IdentityModel_Services_Tokens_MachineKeySessionSecurityTokenHandler__ctor\">\r\n  \t\t\t\t\t<h3 class=\"accented\">\r\n  \t\t\t\t\t\t<span class=\"lang-csharp\">MachineKeySessionSecurityTokenHandler()</span>\r\n  \t\t\t\t\t</h3>\r\n  \t\t\t\t</div>\r\n  \t\t\r\n  \t\t\t\t<div class=\"memberInfo\">\r\n  \t\t\t\t\t<p>Initializes a new instance of the <a class=\"xref\" href=\"system.identitymodel.services.tokens.machinekeysessionsecuritytokenhandler\" data-linktype=\"relative-path\">MachineKeySessionSecurityTokenHandler</a> class.</p>\n\r\n  \t\t\r\n  \t\t\t\t\t\t<pre class=\"wrap loading\"><code class=\"csharp lang-csharp\" dir=\"ltr\">public MachineKeySessionSecurityTokenHandler ();</code></pre>\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\t\t</div>\r\n  \t\t\t</div>\r\n  \t\t\t\t\t<div data-moniker=\" netframework-4.5.1 netframework-4.5.2 netframework-4.5 netframework-4.6.1 netframework-4.6.2 netframework-4.6\">\r\n  \t\t\r\n  \t\t\t\t\t<a id=\"System_IdentityModel_Services_Tokens_MachineKeySessionSecurityTokenHandler__ctor_\"></a>\r\n  \t\t\r\n  \t\t\t\t<div class=\"memberNameHolder\" id=\"System_IdentityModel_Services_Tokens_MachineKeySessionSecurityTokenHandler__ctor_System_TimeSpan_\">\r\n  \t\t\t\t\t<h3 class=\"accented\">\r\n  \t\t\t\t\t\t<span class=\"lang-csharp\">MachineKeySessionSecurityTokenHandler(TimeSpan)</span>\r\n  \t\t\t\t\t</h3>\r\n  \t\t\t\t</div>\r\n  \t\t\r\n  \t\t\t\t<div class=\"memberInfo\">\r\n  \t\t\t\t\t<p>Initializes a new instance of the <a class=\"xref\" href=\"system.identitymodel.services.tokens.machinekeysessionsecuritytokenhandler\" data-linktype=\"relative-path\">MachineKeySessionSecurityTokenHandler</a> class that has the specified default token lifetime.</p>\n\r\n  \t\t\r\n  \t\t\t\t\t\t<pre class=\"wrap loading\"><code class=\"csharp lang-csharp\" dir=\"ltr\">public MachineKeySessionSecurityTokenHandler (TimeSpan tokenLifetime);</code></pre>\r\n  \t\t\r\n  \t\t\r\n  \t\t\t\t\t\t\t<div class=\"propertyInfoTitle stack\">Parameters</div>\r\n  \t\t\t\t\t\t\t<div class=\"propertyInfo\">\r\n  \t\t\t\t\t\t\t<dl class=\"parameterList\">\r\n  \t\t\t\t\t\t\t\t<dt>tokenLifetime</dt>\r\n  \t\t\t\t\t\t\t\t<dd>\r\n  \t\t\t\t\t\t\t\t\t\t<span class=\"lang-csharp\"><a class=\"xref\" href=\"system.timespan\" data-linktype=\"relative-path\">TimeSpan</a></span>\r\n  \t\t\t\t\t\t\t\t</dd>\r\n  \t\t\t\t\t\t\t</dl>\r\n  \t\t\t\t\t\t\t<p>The default lifetime for a token.</p>\n\r\n  \t\t\t\t\t\t\t</div>\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\t\t\t\t\t<div class=\"propertyInfoTitle stack\">Exceptions</div>\r\n  \t\t\t\t\t\t\t\t<div class=\"propertyInfo\">\r\n  \t\t\t\t\t\t\t\t<div class=\"subtle\">\r\n  \t\t\t\t\t\t\t\t\t\t<span class=\"lang-csharp\"><a class=\"xref\" href=\"system.invalidoperationexception\" data-linktype=\"relative-path\">InvalidOperationException</a></span>\r\n  \t\t\t\t\t\t\t\t</div>\r\n  \t\t\t\t\t\t\t\t<p><code>tokenLifetime</code> is shorter than or equal to <a class=\"xref\" href=\"system.timespan\" data-linktype=\"relative-path\">TimeSpan</a></p>\n\r\n  \t\t\t\t\t\t\t\t</div>\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\t\t</div>\r\n  \t\t\t</div>\r\n  \t\t\r\n  \t\t</section>\r\n  \r\n  \r\n","outputRootRelativePath":"../","pageMetadata":"<meta name=\"author\" content=\"dotnet-bot\">\r\n<meta name=\"ms.author\" content=\"dotnetcontent\">\r\n<meta name=\"manager\" content=\"wpickett\">\r\n<meta name=\"breadcrumb_path\" content=\"../toc2.json\">\r\n<meta name=\"apiPlatform\" content=\"dotnet\">\r\n<meta name=\"ms.topic\" content=\"managed-reference\">\r\n<meta name=\"ms.prod\" content=\".net\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"docs-internal\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.docs-internal\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/dotnet/docs-internal/blob/master/api/System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler.yml\">\r\n<meta name=\"APIName\" content=\"System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler\">\r\n<meta name=\"APIName\" content=\"System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler..ctor\">\r\n<meta name=\"APILocation\" content=\"System.IdentityModel.Services.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-31 02:21 PM\">\r\n<meta name=\"document_id\" content=\"3c833be4-282b-dd51-2000-5377113f21e4\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Processes session tokens by using signing and encryption keys specified in the ASP.NET &amp;lt;machineKey&amp;gt; element in a configuration file.\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/system.identitymodel.services.tokens/toc2.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler\">\r\n","rawMetadata":{"author":"dotnet-bot","ms.author":"dotnetcontent","manager":"wpickett","breadcrumb_path":"/dotnet/toc.json","apiPlatform":"dotnet","ms.topic":"managed-reference","ms.prod":".net","search.ms_sitename":"Docs","search.ms_docsetname":"docs-internal","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet-internal/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":false,"depot_name":"MSDN.docs-internal","_op_gitRefSkeletonCommitHistory":[],"original_ref_skeleton_git_url":"https://github.com/dotnet/docs-internal/blob/master/api/System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler.yml","open_to_public_contributors":false,"api_name":["System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler","System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler..ctor"],"api_location":["System.IdentityModel.Services.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler","System::IdentityModel::Services::Tokens::MachineKeySessionSecurityTokenHandler","System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler.#ctor","System::IdentityModel::Services::Tokens::MachineKeySessionSecurityTokenHandler::#ctor"],"dev_langs":["csharp"],"updated_at":"2017-03-31 02:21 PM","document_id":"3c833be4-282b-dd51-2000-5377113f21e4","content_git_url":"https://github.com/dotnet/docs-internal/blob/master/xml/System.IdentityModel.Services.Tokens/MachineKeySessionSecurityTokenHandler.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"MachineKeySessionSecurityTokenHandler class | Microsoft Docs","_op_ogTitle":"MachineKeySessionSecurityTokenHandler class","description":"Processes session tokens by using signing and encryption keys specified in the ASP.NET &lt;machineKey&gt; element in a configuration file.\n","toc_asset_id":"api/_splitted/System.IdentityModel.Services.Tokens/toc.json","toc_rel":"_splitted/System.IdentityModel.Services.Tokens/toc.json","source_url":"","ms.assetid":"System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler","canonical_url":"https://docs.microsoft.com/en-us/dotnet/api/system.identitymodel.services.tokens.machinekeysessionsecuritytokenhandler","_op_searchScope":[".NET"],"_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet/api/system.identitymodel.services.tokens.machinekeysessionsecuritytokenhandler","fileRelativePath":"api/System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler.html"},"themesRelativePathToOutputRoot":"_themes/"}