{"content":"    <!-- ENUM -->\r\n    <h1 id=\"Microsoft_ServiceBus_TcpRelayConnectionMode\">\r\n      <span class=\"lang-csharp\">TcpRelayConnectionMode</span>\r\n      <span class=\"lang-vb\">TcpRelayConnectionMode</span>\r\n        Enum\r\n    </h1>\r\n    \r\n    \r\n    <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n      <h3>In this Article</h3>\r\n    </nav><div class=\"summary\">\r\n    \t\t<div class=\"memberEditButton\">\r\n    \t\t\t<a href=\"https://msazure.visualstudio.com/One/_git/ServiceBus-Messaging?path=src/product/Clients/Microsoft.ServiceBus.Messaging/Connectivity/RelayedConnection/TcpRelayConnectionMode.cs&amp;version=GBClientSDK_30&amp;line=9\" ms.cmpnm=\"editMember\" data-linktype=\"external\"><i class=\"icon icon-editor\"></i>Edit</a>\r\n    \t\t</div>\r\n    \t<p>Describes the connection mode for the <a class=\"xref\" href=\"microsoft.servicebus.nettcprelaybinding\" data-linktype=\"relative-path\">NetTcpRelayBinding</a>. </p>\n\r\n    </div><h2>Syntax</h2>\r\n    \r\n    \t<h3>Declaration</h3>\r\n    \t<pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public enum TcpRelayConnectionMode</code><code class=\"vb lang-vb\">Public Enum TcpRelayConnectionMode</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        <header class=\"header\" id=\"fields\">\r\n          <h2>Fields\r\n        </h2>\r\n        </header>\r\n        <table class=\"nameValue\">\r\n            <tbody>\r\n              <tr>\r\n                <td id=\"Microsoft_ServiceBus_TcpRelayConnectionMode_Hybrid\">\r\n            <div class=\"lang-csharp\">Hybrid</div>\r\n          \r\n            <div class=\"lang-vb\">Hybrid</div>\r\n          </td>\r\n                <td><p>Communication is relayed through the Azure Service Bus infrastructure while the Client and Service endpoints negotiate a direct socket connection to each other. The coordination of this direct connection is governed by the Azure Service Bus cloud service. The direct socket connection algorithm is capable of establishing direct connections between two parties that sit behind opposing Firewalls and NAT devices. The algorithm uses only outbound connections for Firewall traversal and relies on a mutual port prediction algorithm for NAT traversal. Since the NAT traversal algorithm is \ndependent on a very narrowly timed coordination and a best-guess prediction about the expected NAT behavior, the algorithm tends to have a very high success rate for Home and Small Business scenarios with a small number of clients and degrades in its success rate with larger NATs. If a direct connection can be established, the relayed connection is automatically upgraded to the direct connection without message or data loss. If the direct connection cannot be established, data will continue to flow through the Azure Service Bus Relay. </p>\n<p>This mode additionally requires outbound port 819 for the NAT prediction algorithm. With most personal firewall products, the outbound socket connection that is being established by the direct connect \nmode will also require a one-time policy exception to be granted by the user (the Windows Personal Firewall and other products will typically prompt the user) to the hosting application. </p>\n</td>\r\n              </tr>\r\n              <tr>\r\n                <td id=\"Microsoft_ServiceBus_TcpRelayConnectionMode_Relayed\">\r\n            <div class=\"lang-csharp\">Relayed</div>\r\n          \r\n            <div class=\"lang-vb\">Relayed</div>\r\n          </td>\r\n                <td><p>All communication is relayed through the Azure Service Bus cloud. The SSL-protected control connection is used to negotiate a relayed end-to-end socket connection that all Client-Service communication flows through. After the connection is established, the Azure Service Bus infrastructure acts much like a socket forwarder proxy relaying a bidirectional byte stream. This mode additionally \nrequires outbound port 819 for the NAT prediction algorithm. With most personal firewall products, the outbound socket connection that is being established by the direct connect mode will also require a one-time policy exception to be granted by the user (the Windows Personal Firewall and other products will typically prompt the user) to the hosting application.</p>\n</td>\r\n              </tr>\r\n            </tbody>\r\n        </table>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n      <h2>Details</h2>\r\n        <div class=\"lang-csharp lang-vb enable-lang-filter detailTile\">\r\n          <h4>Namespace</h4>    \r\n          <div>Microsoft.ServiceBus</div>\r\n        </div>\r\n        <div class=\"lang-csharp lang-vb enable-lang-filter detailTile\">\r\n          <h4>Assembly</h4>    \r\n          <div>Microsoft.ServiceBus.dll</div>\r\n        </div>\r\n    \r\n","outputRootRelativePath":"./","pageMetadata":"<meta name=\"ms.devlang\" content=\"csharp\">\r\n<meta name=\"author\" content=\"erickson-doug\">\r\n<meta name=\"ms.author\" content=\"douge\">\r\n<meta name=\"manager\" content=\"douge\">\r\n<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc1.json\">\r\n<meta name=\"ms.topic\" content=\"reference\">\r\n<meta name=\"ms.service\" content=\"service-bus-messaging\">\r\n<meta name=\"ms.date\" content=\"11/16/2016\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"azuredotnet\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"Azure\">\r\n<meta name=\"depot_name\" content=\"Azure.azuredotnet\">\r\n<meta name=\"ref_skeleton_gitcommit\" content=\"https://github.com/Azure/azure-docs-sdk-dotnet/blob/8ece26063f2f27414f0bad873159ee6212f3448d/docs-ref-manual/Data/ServiceBus-messaging/Microsoft.ServiceBus.TcpRelayConnectionMode.yml\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/Azure/azure-docs-sdk-dotnet/blob/live/docs-ref-manual/Data/ServiceBus-messaging/Microsoft.ServiceBus.TcpRelayConnectionMode.yml\">\r\n<meta name=\"APIName\" content=\"Microsoft.ServiceBus.TcpRelayConnectionMode\">\r\n<meta name=\"APIName\" content=\"Microsoft.ServiceBus.TcpRelayConnectionMode.Relayed\">\r\n<meta name=\"APIName\" content=\"Microsoft.ServiceBus.TcpRelayConnectionMode.Hybrid\">\r\n<meta name=\"APILocation\" content=\"Microsoft.ServiceBus.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2016-12-26 05:25 AM\">\r\n<meta name=\"document_id\" content=\"0b5f74da-9580-26ce-8aa4-563b990e61c4\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Describes the connection mode for the . \n\">\r\n<meta name=\"toc_rel\" content=\"toc1.json\">\r\n<meta name=\"source_url\" content=\"https://msazure.visualstudio.com/One/_git/ServiceBus-Messaging?path=src/product/Clients/Microsoft.ServiceBus.Messaging/Connectivity/RelayedConnection/TcpRelayConnectionMode.cs&amp;version=GBClientSDK_30&amp;line=10\">\r\n<meta name=\"ms.assetid\" content=\"Microsoft.ServiceBus.TcpRelayConnectionMode\">\r\n","rawMetadata":{"ms.devlang":"csharp","author":"erickson-doug","ms.author":"douge","manager":"douge","breadcrumb_path":"breadcrumb/toc.json","_op_documentIdPathDepotMapping":{"./":{"folder_relative_path_in_docset":"api-index"},"breadcrumb/":{"folder_relative_path_in_docset":"breadcrumb"},"docs-ref-autogen/":{"folder_relative_path_in_docset":"docs-ref-autogen"},"docs-ref-manual/":{"folder_relative_path_in_docset":"docs-ref-manual"},"docs-ref-overwrite/":{"folder_relative_path_in_docset":"docs-ref-overwrite"},"scripts/":{"folder_relative_path_in_docset":"scripts"}},"ms.topic":"reference","ms.service":"service-bus-messaging","ms.date":"11/16/2016","search.ms_sitename":"Docs","search.ms_docsetname":"azuredotnet","version":0,"_op_canonicalUrlPrefix":"https://docs.microsoft.com/en-us/dotnet/api/","locale":"en-us","site_name":"Docs","search.ms_product":"Azure","_op_openToPublicContributors":false,"depot_name":"Azure.azuredotnet","_op_gitRefSkeletonCommitHistory":[{"author_name":"Qinen Zhu","author_email":"qinzhu@microsoft.com","committer_name":"Qinen Zhu","comitter_email":"qinzhu@microsoft.com","message":"Rename folder name","commit_sha":"8ece26063f2f27414f0bad873159ee6212f3448d","commit_date":"2016-12-19 15:23:17 +0800"}],"ref_skeleton_gitcommit":"https://github.com/Azure/azure-docs-sdk-dotnet/blob/8ece26063f2f27414f0bad873159ee6212f3448d/docs-ref-manual/Data/ServiceBus-messaging/Microsoft.ServiceBus.TcpRelayConnectionMode.yml","original_ref_skeleton_git_url":"https://github.com/Azure/azure-docs-sdk-dotnet/blob/live/docs-ref-manual/Data/ServiceBus-messaging/Microsoft.ServiceBus.TcpRelayConnectionMode.yml","open_to_public_contributors":false,"api_name":["Microsoft.ServiceBus.TcpRelayConnectionMode","Microsoft.ServiceBus.TcpRelayConnectionMode.Relayed","Microsoft.ServiceBus.TcpRelayConnectionMode.Hybrid"],"api_location":["Microsoft.ServiceBus.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["Microsoft.ServiceBus.TcpRelayConnectionMode","Microsoft::ServiceBus::TcpRelayConnectionMode","Microsoft.ServiceBus.TcpRelayConnectionMode.Relayed","Microsoft::ServiceBus::TcpRelayConnectionMode::Relayed","Microsoft.ServiceBus.TcpRelayConnectionMode.Hybrid","Microsoft::ServiceBus::TcpRelayConnectionMode::Hybrid"],"dev_langs":["csharp","vb"],"updated_at":"2016-12-26 05:25 AM","document_id":"0b5f74da-9580-26ce-8aa4-563b990e61c4","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"TcpRelayConnectionMode enum | Microsoft Docs","_op_ogTitle":"TcpRelayConnectionMode enum","description":"Describes the connection mode for the . \n","toc_asset_id":"toc.json","toc_rel":"toc.json","content_git_url":"","source_url":"https://msazure.visualstudio.com/One/_git/ServiceBus-Messaging?path=src/product/Clients/Microsoft.ServiceBus.Messaging/Connectivity/RelayedConnection/TcpRelayConnectionMode.cs&version=GBClientSDK_30&line=10","ms.assetid":"Microsoft.ServiceBus.TcpRelayConnectionMode","canonical_url":"https://docs.microsoft.com/en-us/dotnet-all/microsoft.servicebus.tcprelayconnectionmode","_op_displayDate":"2016-11-16","_op_displayDate_source":"2016-11-16T00:00:00Z","_op_brand":"azure","_op_canonicalUrl":"https://docs.microsoft.com/en-us/dotnet-all/microsoft.servicebus.tcprelayconnectionmode","fileRelativePath":"Microsoft.ServiceBus.TcpRelayConnectionMode.html"},"themesRelativePathToOutputRoot":"_themes/"}